[{"content":"本文代码已上传github，自取链接：https://github.com/Bla1n/WBDXmonitor\n简而言之 好久没关注这个监控脚本了，因为wb接口一直可以用，所以以为一切正常。前几天发现bz和dy的接口都已经无法直接调用了，就想办法解决一下。\n问题 1.bz接口直接访问结果如下\n2.dy接口虽然还能访问，但是显示的视频数量与实际并不相符，无法达到实时监控的目的\n研究一下 dy怎么了？ 首先是dy，先是在网上搜集了一下现成的监控工具及脚本。大多数工具都是基于登录后的凭证来实现监控的，但是dy在陌生设备上登录认证流程又很繁琐（比如网页版，我选择密码登录要求使用常用设备进行扫码认证，那我为啥不直接扫码登录呢？😅），反爬机制也针对脚本做了很多阻碍，现有的脚本也多是采取Selenium来模拟浏览器达到绕过前端混淆的。\n就首次登录返回的__ac_nonce，进而前端混淆加密生成的__ac_signature，我就研究了一天。但由于两点原因我选择放弃去主动请求生成\\__ac_signature。（关于逆象混淆函数的同学可以自行搜索“__ac_signature”关键字进行学习）\n第一，可能是因为脚本原因，不带任何cookie去访问dy主页，响应包的返回会非常慢，经常超时。\n第二，__ac_nonce与__ac_signature存活时间非常久，至少有一年存活期（我去随意搜了一个半年前的依然能通过验证）。\n所以我选择手动添加一个现成的凭证。\n如果仔细研究的同学可能会发现，dy实际使用的身份认证凭证并不是__ac_nonce与__ac_signature，而是后面生成的ttwid。但为什么我还是选择使用他俩呢？咱们往下看。\n比如我想关注”犬来八荒w“的更新动态个人空间的URL为：https://www.douyin.com/user/MS4wLjABAAAAnCz_s5xyosgWTo5lTxKCmoYX1-uiytDsAKBye1LbfDE。\n可以发现在不登录状态下，网页是返回了当前坐着的作品数量的。虽然有验证码，不输入直接x掉会网页跳转，禁止访问。但是到这里其实就足够了。\n只要实时监控这个作品数量，就可以知道作者是否更新（前提是作者不删掉以往的视频造成数量的变化，但其实这种情况比较少见）。\n思路有了就直接进行一个get请求，然后通过re正则匹配就能获取到作品数量了，这里不过多解释了，可以自行看代码。\nnum = re.findall(\u0026#39;data-e2e=\u0026#34;user-tab-count\u0026#34;\u0026gt;(\\d*)\u0026lt;/span\u0026gt;\u0026#39;, res.text)[0] bz怎么了？ 以前的bz可以直接访问api接口获取视频数量的，如下图所示\n但现在不行了，直接访问会被风控拦掉。并且我第一反应也是延续dy的思路进行爬取，但是bz现在引入了csp内容安全策略，如下。\n你会发现哪怕未登录状态下直接访问作者的用户空间也会经过一系列的复杂前端混淆才能获取到数据\n鉴于最近比较忙，原本打算暂时放弃研究，日后再慢慢分析里面的参数。随后我又随便点点点，发现bz的搜索界面返回结果并没有做csp之类的策略。这不又有了嘛，笑。（反正我要的只是一个提醒的目的，这对我来说已经足够了）\n正则匹配也很简单（脚本返回的数据包内容就是”稿件“而不是”视频“，我也挺奇怪）\nnum = re.findall(\u0026#39;稿件：(\\d*)\u0026lt;/span\u0026gt;\u0026lt;a target=\u0026#34;_blank\u0026#34;\u0026#39;, res.text)[0] xhs顺手也研究一下 xhs相对来说比较简单了，未登录状态访问只返回最新的32条笔记，那我只需要把这32条笔记的标记记录下来，如果有新笔记更新就会改变着32条笔记的内容，这就是判断更新的依据了。\n脚本如何使用 start.py里面自行修改一下WxPusher微信消息推送服务的私人用户凭证\n同级目录下有4个monitor文件，分别把其中的uid或者url修改成自己想要关注的人对应的就好（自行去找，相信看到这的同学没有不会定位的）\n一切修改完毕后，在自己的服务器上部署个定时任务，每分钟提醒一次即可\n脚本的其他内容也进行了细枝末节的”优化“，并不是标准化编程，我这人主打一个能用就行。\n写到这里就结束啦，我们下次再见👋\n","date":"2024-11-29T00:00:00Z","image":"https://www.blain.top/p/wbdxmonitor/123.jpg","permalink":"https://www.blain.top/p/wbdxmonitor/","title":"微博、B站、抖音、小红书（新）实时关注脚本"},{"content":"本章目录 数据生命周期管理 数据策略 1.免责条款\n用于哪些目的出了问题不承担责任\n注：责任有三种：responsibility（职责，干什么工作履行什么）、accountability（可问责性，做了事要对后果承担责任）、liability（提供的服务、产品，如果有问题应该承担的赔偿责任）\n数据拥有者的职责 数据主管的职责 数据保管者的职责 数据的质量 数据错误可以分为两种\n1.提交的错误：比较容易防范，例如通过职责分离集合的比对即可发现输入数据的错误\n2.遗漏的错误：不容易防范，发现需要专业人员对数据整体进行专业的检查才能发现\n数据的文档化和元数据 文档化 采集处理数据过程中，不能只记录业务数据，还要记录数据记录过程中的遵循的标准、设备和方法，并将这些作为元数据（留下证据）\n数据标准化的作用 数据的定义和建模 记录保存期 1.超过保存期的数据应该予以销毁，以免承担不必要的风险\n2.当有案件发生时，可以适当延长保存期\n数据安全和隐私保护 信息的分级分类 本质是风险管理的简化方式\n目前的分级分类还是关注数据的保密性\n信息分级分类的管理问题 个人数据保护的发展状况 1.个人数据保护合规后会有什么影响？\n答：一定会有“增加运营成本”这一条\n2.个人数据主体的权利\n查看所收集信息、更正错误、删除信息的权利\nIT资产生命周期管理 IT资产管理 IT资产清单Inventory：是任何资产管理工作的前提\n文档管理 管理方法：最小授权原则\n介质选择 不同介质具有不同的安全特点，在选择使用时需要重点考虑\n1.纸介质 具有法律效力，广泛认可\n2.磁介质 证据效益最低，不适合长期存储\n3.微缩胶片 具有一定法律效益，国内使用较少\n4.光盘介质 5.闪存（USB设备） 需要物理安全作为基础来进行保护\n6.固态硬盘（SSD） 1.固态硬盘往往后有一些访问不到的区域作为“磨损区域的替代”，如果数据写到这上面，对于我们数据的擦除或者恢复就带来了困难\n2.现在常规的销毁手段就是物理销毁（消磁存在一定的风险）\n7.云存储 涉及到的存储问题，法律、安全问题非常多。因为自己没法控制物理介质上的数据存储问题\n介质标注 标注最重要的标准是一致性\n介质的保护 介质处置（最终的处理） 有保密标签的数据不允许脱离保密安全管理\n数据残留 数据清除与根除 1.数据清除可以防范键盘攻击，数据根除可以防止任何攻击手段\n2.粉碎是比较常见的方式\n","date":"2024-09-04T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote11/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote11/","title":"第10节（续）：资产安全"},{"content":"\nBCP计划文档 （业务持续性计划）\n一、支持信息 1.介绍部分 目的、适用性、范围（设定启动计划的条件）、参考、变化记录\n2.运行概要部分 系统描述、继任序列（负责人缺席时，谁来接手）、职责（每一成员的角色和职责）\n二、通知/启动阶段 1.通知部分 谁联络谁，如何通知谁\n2.损害评估部分 损害评估是一个关键性环节\n对损害评估小组人员水平要求较高，并且需要随时可以联络上\n3.计划启动部分 计划启动是一个重大决策，不能交由机器自动化决策，而应该由领导决定\n三、恢复阶段 恢复顺序见前面笔记\n恢复可以理解为迁移到灾备中心去让业务重新运行起来\n四、重建阶段 重建的顺序和恢复的顺序完全相反\n①恢复阶段越核心的部分越应该早迁入灾备中心去恢复\n②重建阶段最核心的部分应该最后才迁回去\n五、计划的附录 其他详细信息应该放在附录里面\nBCP策略实施 BCP团队组成 BCP团队培训 BCP计划测试 BCP测试很重要，测试风险也很大\n遵循原则：循序渐进——结构化检查、检查列表、模拟\nBCP计划更新 业务重心的转移需要进行业务评估，可能三五年一次\n技术的发展很快，可能一年就会进行一次技术审查\n电力、环境与消防 电力、环境 1.如果发电机作为备份供电方式，发电机要定期启动进行检测\n2.电压波动\n3.室内空气正压可以防止外部空气进入室内\n消防 1.电器设备、配电线路老化发热是起火最常见的原因。\n2.火灾类型 3.灭火原理 哈龙灭火：哈龙能使化学反应变慢，打断燃烧的反应链\n但因为哈龙会消耗臭氧层，现在使用FM-200来替代\n也有用稀有气体来灭火的（氩气+CO2）\n4.喷淋系统分类（逐渐进化） 现在一般用预响应式的喷淋系统\n物理访问控制 设施访问控制 1.物理访问控制可能影响人员疏散\n锁具 1.密码锁应该有遮挡方式，以免别人看到密码\n2.现在电子锁远比物理锁的安全强度高\n证件系统 防止尾随的装置：mantrap（双门互锁）\n无线近距离阅读器 一种不需要电源的收发器（被动装置）：RFID（通过反射技术）\n栅栏 双栅栏结构防护能力更强\n门的可选特性 safe更强调人的生命安全，secure强调财物安全\n监视 警卫、警犬、闭路电视\n1.警卫和警犬具有判断能力\n2.闭路电视最大的作用是可以提供证据\n摄像头 灵敏度：在光线暗的情况下也能拍出来清晰的画面\n焦距越长，视角越窄，景深越短\n摄像头部署的位置应该避免出现盲点\n入侵检测器 1.近距离检测系统：通过发射和接收电场，测量电容等电解质特性的变化来发现安全问题的\n2.声波检测：通过接收声音的回波发现（移动检测机制）\n物理访问控制审计 物理访问控制也应该定期审计日志记录\n","date":"2024-09-03T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote10/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote10/","title":"第10节：安全运营（下）"},{"content":"章节目录 操作安全概述 1.内涵：系统在运维阶段长期维持在符合要求的安全状态，在日常活动中使用PDC（防止、发现、更正问题）手段\n2.安全原则：适度勤勉原则（证明自己完成了安全工作）\n注：区分适度谨慎（Due care）和适度勤勉（Due diligence）\n适度谨慎：一般性原则，干一些有安全风险的事时，应该有能力意识到这些风险（风险评估能力），并采取合理明智的防范措施去处理风险环节。\n适度勤勉：遵循上面这种原则的具体方法要求。（法律要求等）\n控制类型（从作用上划分） 指导型控制 1.定义：对信息系统相关活动提出要求和建议\n2.只有在得到认可并被严格执行的条件下才能起到作用\n防御型控制 1.从技术上减少恶意事件发生的可能性\n2.不容易控制好防御的度\n检测型控制 态势感知等检测手段\n矫正/恢复型控制 1.恢复：将事故现场还原到事故发生前\n2.矫正：亡羊补牢，防止事故再次发生\n其他控制类型 操作人员管理 最小特权 职务分离 1.将一个任务分成多个不同的部分，每个部分由不同的人执行\n2.双人控制（two-man control）也是一种职务分离\n工作轮滑 1.一种防止共谋的防御型安全措施（也有说是检测措施的）\n2.一个人担任某个职位的时间不能过长\n强制假期 1.一种检测型控制，具有强制性和突然性\n2.强制假期期间对休假人的前期工作进行审计，以便发现问题\n操作人员角色分离 1.防止将所有安全相关功能委托给一个人\n2.不同人物需要的安全技能不同\n3.将管理员任务分成多个角色以赋予不同信任级别\n可信设施管理 1、TCSEC的B2到A1中的一项重要保证需求\n2.B2中要求管理员和操作员功能分离\n3.B3中要求系统管理员的安全相关和非安全相关的功能分离\n4.可不可行要看情况，有些企业业务经常变更，这种分离会显得自找麻烦。\n控制台日志审计 1.要确保日志的完整性\n①只读介质（很少用了）\n②通过堡垒机间接登录主机\n2.提高日志审查人员的能力\n3.操作主管人员进行检查控制台日志的情况\n安全保障措施 运作保障 1.访问控制\n2.特权和用户程序代码分离\n3.审计和监视能力\n4.隐蔽信道分析：往往通过一个资源矩阵的方式，监视资源的异常使用情况，防止隐蔽信道的发生\n5.可信恢复 （1）发生故障（技术原因）和运行中断（操作原因）时恢复到系统状态是好的时期\n（2）在什么时间点、用什么介质进行备份\n（3）桔皮书将故障分为状态转换故障（网断了、内存不够了等）、TCB故障（系统崩了）、介质故障\n系统恢复的方式 1.人工恢复：也需要机遇自动备份来实现\n2.自动恢复：无需人工介入\n3.无损自动恢复：在自动恢复的基础上增加减少数据损失、符合成本效益的机制\n4.功能恢复：过于理想，系统自动回复到正常状态\n系统重启的类型 1.系统重引导：正常方式受控地关闭系统\n2.紧急系统重启：系统崩了，以非受控方式关闭系统（比较严重的状态，不希望发生）\n3.系统冷启动：不属于可信恢复的范围了。自动化程序无法解决系统问题，需要人工介入将系统从维护模式恢复到一致状态。（压力最大，工作中应尽量避免冷启动的情况发生）\n生命周期保障 裁减水平配置：在日志管理当中，将不重要信息裁减掉，只留下关键信息\n可信分发：在软件（靠签名来保障等）、硬件传输过程中，避免被篡改的情况发生。\n配置管理的目的 围绕变更管理的一系列管理称为配置管理\n1.所有的变更要在确定的、受控的环境中进行\n2.有可靠的回馈机制减少变更产生故障带来的损失\n配置管理的任务 变更控制的方法 1.常规变更：以前做过的，不需要重新讨论变更可行性的，由变更控制负责人授权。\n2.重大变更：要召集变更控制委员会进行讨论决定\n3.紧急变更：属于重大变更，但是没时间进行讨论，由相关负责人授权，事后由变更控制委员会确认\n基线 在基线形成后，基于基线的变更都不能随意进行\n配置控制委员会 具有广泛的代表性，所有相关部门都应该选出人员参与\n安全事件处理 安全事件的定义 三种安全事件\n1.内部人员在使用IT系统过程中出现的问题（最常见）\n2.客户使用产品中遇到的问题\n3.总部服务于分部的安全人员的机制\n安全事件的分类\n1.拒绝服务\n2.非法入侵\n3.有害代码\n等\n事件处理机制的目标 1.首要：及时发现已经发生过的安全事件，减少给我们造成的损害\n2.其次：预防未来可能发生的损害\n事件处理的准备 1.建立正式、规范的事件响应和处理政策（应急预案），并落实\n2.建立集中式的快捷、安全、方便、有效的报告和信息发布体系（类似119/110这种）\n3.建立能力全面、责任明确、具有广泛代表性的事件响应团队。\n事件处理的生命周期 0.总流程\n甄别（发现）、调查、控制（遏制）、追踪清除、恢复、事后分析\n1.事件处理的第一步：\n确定事件的甄别（Triage）标准，包括分类定义（什么级别的时间）、排序方法（事件处理的优先级）等\n2.最重要：事件处理过程，也被称为事件响应升级过程（一开始对于事件的判别不全面，后续可能需要向更高级别领导报告）\n出了事故隐瞒不报是最严重的违规行为\n事件处理的检测和分析 事件处理的第二步：调查\n事件处理的控制、清除和恢复 事件处理的第三步：控制（遏制）\n初步调查是为“控制”提供信息，详细调查是为“清除和恢复”提供信息\n事件处理的善后工作 事后分析会议：定责、处分等\n计算机取证 取证核心任务：防止证据灭失或者污染（要及时关机）\n1.及时关机的方法从取证角度讲，拔电源是更好的方式（有条件在关机前进行内存转储更好）\n2.关机之后，在案件终结之前，机器不准从原有介质启动。应该用取证工具制作的引导介质，引导系统用镜像的方式把系统空间中的信息转储出来（不是拷贝）。而后封存原有设备\n一种说法：在取证过程中要想办法使原有介质处于只读状态√\n证据的形式 1.直接证据：证人证言等\n2.实物证据\n3.文书证据：信息（写在纸上、存在计算机里的都算）\n4.展示证据：通过科学方式做出的证明（弹道分析等）\n司法证据类型（与美国法律有关） 略\n对证据的要求 相关性、可靠性（不被篡改）、合法性（是否陷害、诱捕）、\n诱捕中的一个常见系统：蜜罐。通常用来分析攻击者的攻击技术，而不用来取证。\n证据保管链 证明证据可靠性的一系列的文档记录，在时间上环环相扣。\n证据链显示：谁获得了证据、什么证据、什么地点时间获取到的、谁保护了证据、谁控制和使用了证据\n冗余技术 廉价磁盘冗余阵列RAID 1.RAID是一种可以提高硬盘性能和可靠性的技术\n①条带（striping）：例如1个字节有8比特，分别写到8块硬盘上，这样读写效率都得到了提升。是一种提高硬盘性能的技术\n②校验（parity）：除了记录数据之外，还记录数据的校验值。是一种提高硬盘可靠性的技术\n2.RAID1-6的考点\n（1）RAID0只有条带，没有其他技术，因此只能提高性能\n（2）RAID1使用了特殊的方法：镜像。提高硬盘可靠性的技术，缺点是成倍地消耗硬盘。\n（条带是把一个数据分成多份存在不同硬盘上，镜像是把数据复制成完全一样的两份）\n（3）RAID2-6都是使用条带和校验的综合技术\n（4）RAID2-4，区别在于条带颗粒度粗细不一样，2使用的比特级条带、最细，3使用的字节级，4使用块级（若干字节）\n颗粒度越细，使用的硬盘就越多\n（5）RAID5也是用块级条带，但校验值是分布式的，2-4的校验值是存在专门的校验盘当中（存在瓶颈和单点的问题）。因此RAID5成本比较低、可靠性比较高，是最常用的RAID\n（6）RAID6在5点基础上增加了第二种校验技术，进一步增加了可靠性\n（7）RAID10就是RAID0+RAID1，条带提高性能，镜像提高可靠性\n3.RAID新分类\n防故障磁盘系统：发生故障后，数据不会丢\n容错磁盘系统：数据不会丢，同时数据访问不会停\n容灾磁盘系统：把硬盘组件放在不同地理位置，用光纤组成局域网\n电子跳跃（电子链路） 解决异地备份问题的一种办法\n远程日记（日志） 日志在一起是一种数据库备份的手段，记录每一笔明细。例如数据库一个月备份一次，在中间发生的交易以日志形式存储，这样在恢复的过程中可以先恢复上一次的备份，再填入本月发生的每一笔交易日志。\n注：远程日记不一定是实时的记录\n远程磁盘复制的两种工作方式 1.同步复制\n镜像：实时的，在写操作时要同时向主服务器和备份服务器写，两边都写完才算完成。因此对链路的要求、技术实现要求较高，可靠性强\n2.异步复制\n投影：定期、批量的。对链路要求较低\n负载均衡 本地负载均衡用于容错，全局负载均衡用于容灾\n备用设施的类型 热站点：随时可以接替关键业务，成本很高\n冷站点：只有一个空机房\n温站点：目前主要类型，基于冷热之间的比较灵活的机房\n移动站点：移动通信车\n冗余站点：镜像站点\n互惠协议：两个单位之间，一个出问题了搬到另一家去，是最不可靠的备份站点类型\n多处理中心：将处理任务分布到一个机构的多个不同容灾数据处理中心，某个中心发生灾难时，其他中心可以接替该中心的处理工作。\n服务中心：能不能去IDC中心去建立灾备\n","date":"2024-09-02T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote09/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote09/","title":"第09节：安全运营（上）"},{"content":"系统开发的安全考虑 项目启动和规划阶段（初始阶段） 1、确定需求\n2、评估备选方案：初始风险分析\n3、方案的选择/批准：确定安全框架\n功能需求定义 系统设计阶段 系统创建阶段 系统接受阶段 注：接受测试完后还要进行接受认可（风险是否能接受）才能上线，一般放到系统部署阶段\n系统部署、维护和更新阶段 做这些工作的主要目的是为了证明自己的工作该干的都干了\n编程工具的安全问题 开源与闭源 隐匿获得安全：很多厂商觉得闭源会更安全\n但其实开源和闭源都有虚假的安全感\n编程语言 发展：\n2.越高级的编程语言，编程过程越快，编出来的程序越安全\n3.用别人的库来搭建我们的应用，是效率高又安全的开发方法\nJava 1.通常认为Java语言比C语言更安全，因为Java是强类型语言。\n.Java为混合型语言：既是编译型，也是解释型语言\n.Java能提供的安全机制有：沙箱、碎片回收、代码签名等\n沙箱：一种虚拟机沙箱，给管理员提供一个安全策略管理接口（指令级安全策略，如：不允许写操作等）\n碎片回收：可能不使用的变量，Java会自动进行回收，释放内存（减少缓冲区溢出风险）。\n代码签名：保证代码来源的透明性、真实性。\nSOA（基于服务的架构） 数据检验的部署 数据检验策略 白名单策略优先考虑，其次考虑黑名单（对于黑名单上的采取停止处理的方式），最后考虑数据净化（复杂性高）\n数据库及其安全 数据库管理系统类型 1.层次数据库：要找到目标需要知道对应的路径，只能表达上下级别的关系\n2.网状数据库：模拟自然\n3.关系数据库：当前主流数据库模型，基于各种数学原理，抽象级别较高\n4.面向对象数据库：对象是一堆乱七八糟复杂的数据集，目前还没有通用的面向对象数据库\n5.终端用户数据库、电子表格：Dbase、Access等文件型数据库，没有精细的数据访问控制，不在考虑范围内\n关系数据库的数据结构 主键：唯一标识符\n外键：在其他表中是主键，在本表中称为外键。\n外键的参照完整性：在主表中不存在的值，在外键中不能记录\n关系数据库的完整性规则 原子化：一个数据处理必须是完整的（要么处理完成，要么没进行处理），不能处于分割状态。\n数据库接口语言 ODBC不太安全\n数据仓库 数据仓库与数据库没有直接的关系\n2.数据仓库为一种新的应用类型，如大数据等\n3.数据仓库为一种高风险应用。保护级别比交易系统还高。使用时应该与外网进行物理隔离。\n4.规格化：设计关系数据库表时涉及的原则。如：原子化；非主键的值只能依赖于主键，不能依赖其他任何数据。\n数据仓库的使用方法 数据挖掘与在线分析处理的区别：\n1.数据挖掘为自动化分析数据的算法，比较泛化；\n2.在线分析处理（OLAP）为人查询原始数据，找到其中的对应关系。注意与OLTP区分（交易系统在线事故处理）\n3.尽量使用数据挖掘，在线分析处理对于人的要求更高\n数据库的主要威胁 聚合：鸡蛋放在一个篮子里\n推论：例如，根据非涉密信息推断出涉密信息。采取多实例化的方法可以减轻这个问题（给出假的非涉密信息进行混淆）\n查询攻击：SQL注入\n基于知识的系统 知识管理 专家系统 \u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash;安全评估测试\u0026mdash;\u0026mdash;\u0026mdash;\u0026mdash; 测试和评估（T\u0026amp;E）策略 总目标：尽早发现系统的不足\n软件的验证和确认 验证：细节的比对\n确认：对整体的判定\n软件的内部逻辑比硬件复杂得多，增加了验证的复杂性\nOWASP十大常见漏洞 略\n安全控制措施的实施 开发过程的安全评估和测试 略\n企业信息安全架构 一种企业安全需求分析工具SABSA，略\n威胁建模 代码级的安全要求，一种完整的风险评估\n1.微软的威胁建模方法\n2.微软的威胁建模过程\n测试工作的一般原则 计划、用例尽早准备\n很难穷尽所有输入和处理\n发现错误的测试才是成功的测试\n……\n详尽的测试文档要妥善保存（应永久保存）\n测试的分类 结构化测试（白盒）：通过源代码进行测试。\n白盒要考虑覆盖率的问题，是否把所有代码的情况尽可能地都测试到\n2.功能测试（黑盒）\n3.结构测试和功能测试都很难穷尽各种情况，难以测试系统的可靠性，基于统计的测试（如：Fuzzing）可以弥补这一不足\n4.回归测试：软件进行变更后重新进行测试\n回归分析——只对变更模块以及相关联的模块进行测试分析\n5.不同阶段的测试\n6.正向、负向测试：正向指对于功能是否正常使用的测试，负向指对于畸形输入或非预期行为的处理\n7.接口测试：侧重系统与远程系统之间关系协调性的检查\n8.渗透测试\n必须经过批准，严格控制测试人员（数量、身份、是否可信），减少知情人员\n安全数据（安全日志）的收集和分析 安全日志的管理 难点在于对于人员的管理（日志复杂、数量众多）\n网站检测措施 1.真实用户检测：对于每位用户的事务进行被动捕获和分析，对网站的可用性、功能和响应性能进行监测\n2.合成事务监测：使用脚本模拟用户行为生成日志\n信息安全持续监控ISCM 一种全局风险管控机制（如：安全态势感知），提供了IT资产的安全可见性\n2.SCAP安全内容自动化协议，如：CVE（漏洞）、CPE（资产）、CVSS（风险）\n第三方安全审计 软件保障SwA 美国政府提供一个供应商白名单，细节略\n供应商安全审计 SOC，对于外包供应商的一个评级报告\n报告分类：\nType1为一个时间点的报告、Type2为一段时期\nSOC的区别在于面向的人群，1-3越来越广，关注点在于SOC2/3\n审计过程 ","date":"2024-09-01T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote08/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote08/","title":"第08节：软件安全开发（下）+安全评估测试"},{"content":"访问控制方法 访问控制管理 分为集中式和非集中式\n目前主流的还是集中式管理\n集中式认证服务 AAA服务：认证（authentication）、授权（authorization）、记账（accounting）\n1、特点：\n2、分布式安全架构：接入网络的设备（VPN、AP等）是分布式的，将他们的认证过程转发到3A服务器，集中实现各个设备的认证服务。\n3、主流的3A服务器包括：radius（使用UDP）、TACACA+（使用TCP，思科私有协议）、DIAMETER（RADIUS的升级，4G/5G信令协议、漫游）\n单次登录SSO 1、初代单次登录（伪单次）：将所有密码写成一个脚本，执行一下就登录所有账号。缺点：会话劫持风险增加、消耗更多资源、攻击面增加（脚本）、改密码麻烦，依然要一个一个改\nKerberos协议 工作原理：\n（1）用户先向KDC请求获取票证授予票证TGT（游乐场门票）\n（2）用户要使用某一具体服务时，再向KDC提交TGT获取服务票证ST（过山车票）\n（3）用户通过ST访问具体服务器，使用相应的服务\n3、SESAME：欧洲版本的Kerberos，比Kerberos更复杂，几乎没人用\n访问控制部署原则 1、访问的适当性主要遵循：\n最小特权原则（least privilege）：从安全审查工作角度来看\n需知原则（need to know）：从日常工作的角度来看\n本质上两者都是一个东西，只是从不同的角度产生了两种不同的说法\n访问控制类型 自助访问控制 由owner来决定\n强制访问控制 设置安全标签\n非自主访问控制 1、基于角色的访问控制、基于属性的访问控制\n2、产生的原因是为了解决人员流动频繁管理不便的问题\n基于上下文（context）的访问控制 例如：状态检测防火墙\n基于内容（content）的访问控制 系统开销比较大\n基于视图的访问控制（数据库的访问控制） view（数据库术语）：查询语言查询的结果保存在内存中的虚表，称之为视图\n访问控制的威胁 1、口令破解\n口令是最弱的防护机制\n哈希加盐对彩虹表的攻击有防范意义\n2、数据截获\n3、社会工程\n4、哄骗（Spoofing）\nID Theft\n\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash;软件安全开发\u0026mdash;\u0026mdash;\u0026mdash;\u0026ndash; 本章目标 应用系统面临的威胁 1、缓冲区溢出\nDEP数据执行保护 ：将代码区和数据区分隔开，来自数据区的代码不会被CPU执行\nASLR地址空间随机化\n2、大众程序员\n非专业人员的编程，违反开发过程中的职责分离要求。\n3、隐蔽信道\n4、恶意代码\n5、存储器重用/对象重用\n突破进程隔离限制，内存没覆盖、硬盘没清空\n6、可执行内容/移动代码\n通过网络下载到本地执行的代码，如何对代码来源进行验证，以及如何约束此类代码运行的特权是应用安全关注的一个问题\n7、检查时间/使用时间（TOC/TOU）\n静态条件攻击，利用时间差进行攻击\n8、后门/陷门\n9、钓鱼\n10、解释器注入\nXSS、SQL、代码注入、模板注入\n恶意代码 恶意代码分类 1、病毒\n附着于其他可执行代码上\n（1）文件感染型病毒\n（2）引导区病毒\n（3）混合型病毒\n（4）邮件病毒\n（5）宏病毒\n（6）脚本病毒\n2、蠕虫\n不依附于其他文件独立存在，通过自我复制并感染其他设备\n3、木马\n多重攻击 蠕虫的一种攻击方式，同时使用多种方式进行恶意代码的传播\n恶意代码控制 跨站脚本攻击XSS 破坏了同源策略\n系统开发模型 系统开发方法 1、瀑布模型容易卡带\n2、瀑布模型以前叫做系统开发生命周期模型\n3、瀑布模型的一种开发方法：结构化编程开发\n4、高内敛：每个模块尽量实现简单的功能\n5、低耦合：模块之间的关系尽量简化\nV-Model 一个测试模型，将上述测试与生命周期一一对应，使得测试工作做得更全面更好\n原型法 1、解决瀑布模型代办问题的模型，是迭代模型的一种\n2、工作原理\n联合分析开发是一种人员交流的方法\n探索和螺旋模型 探索模型：摸清市场需求的模型\n螺旋模型：解决项目可行性风险的模型\nDevOps 1、一种敏捷开发方式\n2、流程自动化\n3、提高流程效率\n软件能力成熟度模型 基本理念：\nCMMI：第二个阶段为“管理型”\n量化管理：绩效管理\n","date":"2024-04-29T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote07/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote07/","title":"第07节：身份和访问管理（下）+软件安全开发（上）"},{"content":"网络安全威胁 网络侦查（信息收集） 嗅探器 会话劫持 光靠加密是防范不了会话劫持的\n双向鉴别才能防止会话劫持的问题（伪基站）\n拒绝服务攻击DOS 反射器攻击 端口7对应着传输层echo服务，该服务会原封不动的返回数据包。攻击者伪造成受害者IP向DNS服务器发送一个DNS请求，然后DNS服务器和受害者主机之间就会无休止的请求应答。\n放大器攻击 NTP反射，1:85消耗目标资源\nDDOS 如何防范：流量清洗\n牵引流量的技术：BGP路由技术\n牵引到哪个地址：sink hole沉淀池\nSYN泛滥 网络安全技术 NAT技术 可以节省IP地址\n但有些协议会产生不兼容问题，如：IPSec\nNAT可以有效地隐藏内部IP地址。\n防火墙类型 包过滤防火墙（物理层，安全性最差，效率最高） 很难准确设定过滤规则，如：内部主机访问外网，由于动态NAT技术的影响，很难固定哪个端口放行，所以会设置一个放行范围，违背最小授权原则。\n应用代理防火墙（应用层） 存在的问题：不同的协议需要不同的代理防火墙，设置麻烦\n电路级网关防火墙（会话层） 应用代理防火墙的进化，本质还是一个代理，降了一层可以适配各种高层会话\n状态检测防火墙（传输层、会话层、应用层） 防火墙部署 包过滤路由器 在网络边界设置ACL列表，允许或禁止某些请求（安全性最差）\n双穴主机防火墙 屏蔽主机防火墙 屏蔽子网防火墙 入侵检测系统IDS IDS分类 1、基于规则：黑名单检测，漏报多\n专家系统：与黑白名单不同，会通过多种特征进行判断\n2、基于统计：白名单检测，误报多\nIDS局限性 1、误报、漏报\n2、IDS很大程度上依赖于日志分析，但开启日志分析会消耗更多资源\n入侵防御系统IPS 在IDS基础上具备的入侵响应功能\nIPS的发展很大程度上取决于IDS的发展\n网络服务质量 1、尽力而为：顾名思义，表面意思\n2、集成服务：提前预留一部分资源，以防不时之需\n3、差别服务：对于不同的需求打上优先级的标签，在网络繁忙的时候会丢弃优先级低的需求\n无线网络安全 扩频技术 跳频：将一段信息分割成许多份，每一份放在不同的频道上进行传输。应用：全球移动通信系统（GSM）\n直接序列扩频技术：通过编码的技术将许多信息同时发送，根据提前订好的规律从中将信息筛选出来。应用：码分多址（CDMA）\n802.11安全机制 1、WEP有线等效加密密钥：使用对称密码技术。加密过程使用24比特初始向量作为密钥一部分。加上一些IV实施中的其他因素，导致不够安全。\n2、MAC地址检查：就是一个白名单、黑名单\n3、动态WEP密钥：定期更换对称密钥\n4、802.11i：无线安全标准\n引入健壮安全网络协议的概念，使用AES算法加密，表现为现在流行使用的WPA2\n注：WPA使用的RC4算法（不安全），为早期不支持AES的设备所设计的机制\n注2：WPA3通过减慢HASH运算的方式，有效地阻止了密钥爆破攻击\n无线网络威胁 \u0026mdash;\u0026mdash;\u0026mdash;身份和访问管理\u0026mdash;\u0026mdash;\u0026mdash; 章节目录 重点在前三节，难点在访问控制方法\n访问控制概述 访问控制定义：略\n访问控制的最终目的：最小授权原则\n访问控制目标 可审核性：可问责性。与问责不同，只需要能记录就好，访问控制不需要实现问责功能，因此授权和问责没有关系\n访问控制的要素 访问控制的手段 身份管理是形式，访问控制是目标\n企业身份管理是指企业可能有成千上万个权限需要控制，单靠人工的手段无法进行系统管理（如孤儿账号：没人使用的账号，被黑客利用则无法问责）\nIDaas（身份云） 将身份管理外包给云服务厂商\n补充：联合身份认证，第三方来管理（如：微信登录等）\n标识和鉴别技术 身份标识 实现主体身份的唯一性，支持可问责性。\n其他要求：构建身份标识也应该用中性的编码，防止泄露一些不必要的信息\n身份鉴别 1、鉴别也称认证\n2、三种主要鉴别要素的分类\n3、双因素、多因素认证，不是用两个口令、多个PIN这种，而是两类因素、多类因素。\n4、还有次要鉴别要素：如位置、IP地址等，这些单独拎出来不能作为一个鉴别机制\n口令及其种类 动态口令应该被归为第二类要素，不是传统的口令\n问：银行的PIN码为什么安全？\n因为加密方式使用的加密机，即使截获密码也无法破解\n电子认证令牌分类 硬软令牌都是硬件，区别在于是否允许输出密钥。\n常见令牌技术 存储卡没有智能卡安全\n2、时间同步令牌：令牌上有串号和时间（每分钟为一个单位），服务器会记录用户的串号。如果用户令牌通过串号和时间计算的PIN码与服务器计算的一样，或者与前后漂移一分钟的一致，则通过认证，服务器并记录时间漂移值。但有个问题，时间同步问题，即令牌长时间没用，漂移值大于一分钟了。\n3、异步令牌：令牌带有键盘，使用时在令牌输入屏幕显示的PIN码会计算出response码，再输入会服务器。\n生物识别技术的特点 生物识别现在可以仿冒和复制\n生物识别技术的工作原理 1、正匹配举例：先刷卡，告诉机器身份信息，然后刷指纹，机器匹配卡上的和实际的是否一致（一对一）。因此，正匹配应用更广泛。\n2、负匹配举例：不刷卡，直接刷指纹，将指纹与数据库里的数据进行依次比对\n3、生物识别对效率有一定的要求\n生物学特征 1、面容识别目前准确率还偏低\n2、手型识别测量手型的几何特征，识别精度也比较低\n3、DNA检测需要的时间很长\n4、指纹特征有可能会磨损\n5、虹膜识别精确率非常高，精度比指纹高一个数量级。但是对光线条件有一定要求（在室外使用需要遮光罩）\n6、行为特征不是很稳定，使用率比较低\n生物识别的错误率 1、I型错误：合法用户被拒绝\n2、II型错误：非法用户被接受\n注：I和II错误往往与设置的参数有关（不能要求特征100%匹配）\n3、交叉错误率：I型和II型错误率一致的那个点，叫交叉错误率\n影响用户接受生物识别的因素 访问控制的日常审计 违例跟踪报告：一种很好的用于证明安全工作的证据\n","date":"2024-04-27T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote06/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote06/","title":"第06节：通信和网络安全（下）+身份和访问管理（上）"},{"content":"目录 网络安全概述 网络安全目标 1、互操作性：不同的安全机制互相配合的方便性\n2、对终端用户透明：减少对用户日常使用的干扰\n3、防数据流非授权泄露与消息非授权泄露的区别：数据流的特征，比如流量大小、频率\n4、如何防范数据流非授权泄露？\n在没有业务的时候放上一些垃圾流量，干扰入侵者的判断\n网络通信基础 数据网络及其分类 增值网：在该网络上传播的信息比一般网络更有价值\n数据网络构成 信道服务单元：监视数据转换的结果，两边电路的情况，保证转换过程可靠、正常的使用\n数据服务单元：将局域网的信息数据帧转换成能在广域网上传输的格式\n1、一个设备越偏向于应用层，它的安全功能往往就越多，反之功能越少\n2、考试中，网关的定义有可能是应用层的概念（连接不同协议）\n数据网络技术 1、同步通信要求通信双方的时钟保持一致；异步通信则不需要，但需要引入时钟开始标记，占用部分带宽资源。\n2、宽带连接：用以太网的技术将用户设备连接到局端的设备上\n3、基带通信：信号仅用一个频率的载波承载，以太网属于典型的基带网络\n4、宽带通信：信号可以分布到不同载波的电缆中，即整个电缆被划分为不同信道。有线电视是典型的宽带网络\n数据发送模式 1、单播：一次只向一个地址发生数据包\n2、广播：每次向同一个子网或网络中的所有地址发生数据包，广播滥用容易引发系统性能问题\n3、多播（组播）：每次向多个地址发送数据包（借助成员地址）\n5、任播：IPv6带来的技术手段，向一个地址发送信息时，多个主机都能收到，都有类似的业务能力，任何一个主机实现了服务后，这个业务就结束了（类似DNS服务）\n传输介质 1、同轴电缆：成本高、抗电磁干扰能力强；分为粗缆和细缆，细缆传输距离近，粗缆远\n安全规则：5-4-3规则，可借助4个中继器连接最多5个网段，但只有其中3个网段可以连接主机\n2、双绞线：\n①双绞线的分类不影响传输距离，但影响传输速率\n②双绞线是最受距离限制的常规通信介质（除了无限通讯以外）\n③距离越长受干扰的几率就越大\n3、光纤\n注：光纤不抗窃听！！！！\n局域网技术 网络拓扑结构 总线型、环型、星型、树型、网型\n总线拓扑 总线如何保证安全性？\n载波侦听、多路存取（存在征用问题），所以要有冲突检测\n2、存在单点故障，即任何一处中断，整个总线将丧失功能\n3、总线拓扑也称为被动拓扑：只听不发（相对于其他设备而言）\n环型拓扑 1、环型拓扑也称为主动拓扑，即每个设备都帮其他设备转发信号\n2、也存在单点故障，不但线断了会丧失功能，设备坏了也会丧失功能\n星型拓扑 1、集线器或者交换机为拓扑的核心\n2、只要核心不坏就不会出现单点故障（解决了总线和环的单点问题）\n3、用的线很多，在早期不适用，自从双绞线诞生后才普及\n树型拓扑 总线和星型拓扑的融合，结构中不存在闭环\n网状拓扑 1、每个节点与其他所有节点进行互联\n2、互联网出现的原因\n介质访问方法 1、CSMA：载波监听，多路存取\nCSMA/CD：带有冲突检测的载波监听，多路存取（监听线路上的电平值）\n3、CSMA/CA：带有冲突避免的载波监听，多路存取（无线网络用的多），每个设备的使用时间都是错开的，但如果设备某时段不使用，则会浪费资源，通信效率比较低\n4、轮询：一个主站点定期检查次站点是否有数据传输，次站点只有得到主站点许可后才能传输。\n5、令牌传递：环型拓扑里防冲突的方式。\n冲突域和广播域 由于现在大多使用交换机组网，很少使用集线器。而交换机上一个端口就是一个冲突域，所以冲突域的概念逐渐被淡化。\n2、一个网段在发送广播数据帧的时候，该网段下的设备都能收到，这个网段就构成一个广播域。而广播容易带来性能问题，因此一个网段的机器数量不能太多。因此用路由器来分割广播域，降低广播带来的性能问题。\n局域网设备 一个安全域出于划分广播域的要求，可以使用VLAN来隔离；不同的安全域不应该通过一个交换机的VLAN来隔离，而应该通过不同的物理交换机来隔离。\n广域网技术 电路交换链接 真正的电路交换是传统意义上通信双方独占一根线路进行通信\n分组交换链接 帧中继是一种分组交换技术\nX.25会在每个节点检查信号的完整性。后来传输条件好了才有了帧中继技术，即不需要每个节点进行检查。\n信元交换链接 广域网虚电路★ 为了保证在某些资源有限设备上，用户通信的时候不会产生严重的质量问题（满负荷情况下，如何防止新的接入把原有的通信挤掉），而产生虚电路技术。\n虚电路其实就是一个检查链路上每个节点是否有满负荷的情况，若有满负荷的情况，则让通信等待一段时间。\n广域网接入技术 War Dialer是一种类似于nmap的扫描技术，可以发现一些缺乏安全保护的老旧设备。\nPBX是一种交换机，即公司内部使用的电话业务网络\n网络协议常识 OSI参照模型 表示层的安全问题很复杂\nTCP/IP协议组 重要，送分，略\nIP协议 NAT端口映射可以缓解IPv4不足的情况\nIPv6缩位表示法\nTCP协议 stream流表示需要确保顺序的准确性，乱序就会失去价值\n序列号、旗标位需要加深理解\nUDP协议 ICMP协议（故障诊断网络） 有针对ICMP协议的DOS攻击（死亡之ping）\nDNS协议（域名解析协议） DNS污染攻击（UDP攻击）\nARP协议（地址解析协议） ","date":"2024-04-23T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote05/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote05/","title":"第05节：通信和网络安全（上）"},{"content":"写在前面：\n本篇教程由于作者很懒，部分内容可能是从别处CV过来的，可能与作者实际配置的有细微差别，如果发现有错误的地方导致你无法实现该功能先深表歉意，并且欢迎通过右下角的channel联系我~ 在我看到消息后会第一时间给你我实际的配置内容。\n前一篇文章内容有点多了，显得臃肿，在此开个新栏\n侧边栏添加新的模块 侧边栏添加模块除了使用前面所说的添加相册功能外，还有一种方式\n在config.yaml文件的menu-main部分进行修改\nmenu: main: - name: 碎语 | moments params: newTab: true icon: moments url: https://moments.blain.top/ weight: -50 注：由于本人技术能力有限，moments主题无法和stack主题同时出现在一个站点下，所以本人采用的方式是在另一个站点部署moments\n添加waline评论区 前段时间域名解析不小心手误被自己暂停了，今天发现评论区用不了了。之后又突然发现没写这一块的教程，补充一下。\n1、在 LeanCloud 上部署数据库\n注册 LeanCloud 国际版并进入控制台 。\n如果要使用 LeanCloud 国内版，需要给创建的应用额外绑定已备案的域名。\n创建开发版新应用（随意命名）并复制设置 - 应用凭证中的前三项值，稍后会添加在 Vercel 中的环境变量里。\n、Stack 模板支持Waline，所以配置很简单，在官网 注册一个账号，推荐用github注册（下面是官方文档 内容）\n3、输入一个 Vercel 项目名称并点击 Create 继续:\n、此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名。\n一两分钟后，满屏的烟花会庆祝你部署成功。此时点击 Go to Dashboard 可以跳转到应用的控制台。\n5、点击顶部的 Settings - Environment Variables 进入环境变量配置页，并配置三个环境变量 LEAN_ID, LEAN_KEY 和 LEAN_MASTER_KEY 。它们的值分别对应上一步在 LeanCloud 中获得的 APP ID, APP KEY, Master Key。\n、环境变量配置完成之后点击顶部的 Deployments 点击顶部最新的一次部署右侧的 Redeploy 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。\n此时会跳转到 Overview 界面开始部署，等待片刻后 STATUS 会变成 Ready。此时请点击 Visit ，即可跳转到部署好的网站地址，此地址即为你的服务端地址。\n7、往后不再是官方文档内容，之后可以在Domains设置部分添加上自己的子域名\n8、在config.yaml文件修改waline的服务器地址\n# Waline client configuration see: https://waline.js.org/en/reference/component.html waline: serverURL: https://waline.blain.top/ lang: pageview: true emoji: - /source/Sticker-100/ requiredMeta: - name - email locale: admin: 博主 placeholder: 🎉留下你的脚印. twikoo: envId: region: path: lang: 至此，评论区部署完成\n参考文章 vercel部署waline ","date":"2024-04-14T00:00:00Z","image":"https://www.blain.top/p/renovation2/title.png","permalink":"https://www.blain.top/p/renovation2/","title":"小白hugo博客装修笔记（2）"},{"content":"系统评测 评估标准间的比较 不需要记各个标准间的对应关系\n共同准则（CC）的各项标准 注：级别越高的标准会涵盖之前级别的测试内容\n1、功能测试：按照功能手册都试一遍\n2、结构测试：功能的实现原理\n3、方法测试和检验：厂商的测试是否全面、有效，用厂商的测试方法看看能不能得到类似的测试数据\n4、方法设计，测试和评审：要提供设计的详细资料（源代码）\n5、半正式设计和测试：用数学的方法去描述设计的目标和过程\n6、半正式验证的设计和测试：使用数学方法证明过程能实现要求\n7、正式验证的设计和测试：所有功能的实现都遵循形式化的验证和要求\n认证和认可 1、前面所提到的各种标准的执行过程叫做认证\n2、认证是一个详细的专业规范的符合性要求的检查过程（认证证书）（专业过程）\n3、认可是参考认证的结果，行政单位或者权威单位对某个产品上线运行给予一个行政批准（行政过程）\n4、认可是一个接受剩余风险的正式批准的过程\n密码学概述 密码学概念 密钥聚类：不同的key得到了相同的密文\n密码术分类 古典密码\n近代密码术\n现代密码术\n基本密码方法概述 一次一密乱码本被誉为无条件安全的密钥算法\n对称密钥算法 加密和解密用一样的密钥\n1、对称密码分为流密码和分组密码两种\n流密码：每次加密一个比特或者字节的密码方法（RC4算法）\n分组密码：每次加密固定大小的数据分组的密码方法（操作模式几乎不考）\n2、非对称密钥的优缺点正好反过来\n数据加密标准（DES）算法 1、有效密钥长度为56位\n2、因为密钥太短，已经被禁止使用了\n三重DES算法 1、加密方式比较多，可以用三个不一样的密钥，也可以连个密钥交替使用（第一个密钥加密，第二个解密，再第一个加密）\n2、基本也被淘汰了\n高级加密标准（AES）算法 1、最流行的对称算法，替代了DES标准算法\n2、密钥可以是128、192、256位\n非对称密钥算法 1、也被称为公钥加密算法\n2、基于非对称数学难题的密钥算法\n3、一个小问题：使用非对称密钥给对方发信息，什么过程该用哪个密钥加密？\n答：我们用对方的公钥加密内容，对方用对方的私钥解密内容；我们用自己的私钥签名，对方用我们的公钥验证签名。\n4、在实际的使用过程中，通常采用对称加密和非对称加密的混合密码系统。\n5、优缺点与对称密钥相反\nDiffie-Hellman算法 1、不是平常日用于加解密的算法，而是一种密钥协商协议（密钥商定协议）\n2、在某一个加密软件产品中（如：SSH），身份认证的非对称算法（SSH采用的事RSA）和协商协议的非对称算法可能不一样\nRSA算法 1、基于大合数因式分解难题\n2、目前安全的密钥长度为2048位\n椭圆曲线密码（ECC）（一类算法） 1、基于有限域中椭圆形曲线群的离散对数难题\n2、160位ECC相当于1024位RSA和80位对称密钥算法强度\n3、优点：速度快、密钥短、消耗资源少，适合智能卡等小型硬件中使用\nEl Gamal算法 1、基于离散对数难题的公钥密码算法，本质上与Diffie-Hellman密钥商定协议类似；（原理一样，目的不同）\n2、与DSA（美国数字签名算法）不同的是，El Gamal算法既可以加解密也可以数字签名，而DSA只能签名\n3、补充：DSA现在基于ECC算法诞生了一种新的签名算法：ECDSA\n完整性验证技术（Hash） 1、特点：任意长度的数据产生固定长度的散列值，任何微小的变动都会产生截然不同的散列值\n2、重要的应用领域：解决数字签名的效率问题\n密码散列函数 1、散列函数的特性：\n散列应对整个消息计算\n抗逆象：给定散列值难以推算出原数据\n抗二次逆象：难以找出与原文具有相同散列值的不一样的数据\n抗碰撞\nMD5散列算法 1、MD5产生128比特文摘\n安全散列算法（SHA） 1、SHA-1产生160比特文摘\n2、目前主要采用SHA-2算法进行签名\n生日攻击（简单了解） 消息验证码（MAC） 基于前面所说的密码算法技术，并且都是用的对称加密\n数字签名 1、数字签名过程\n发送方A，计算自己消息的HASH值，用A自己的密钥加密，得到前面挂接到消息上进行发送。\n接受方B，先摘下签名，用A的公钥解密签名得到A的HASH，然后计算消息的HASH，对比两个HASH是否相同。\n2、优点：防篡改、抗抵赖\n3、使用非对称加密算法\n公钥基础设施 PKI的构成 数字证书 密钥管理 1、密钥生成：在生成时必须在整个密钥空间中进行随机选择\n2、密钥控制：用于加密的密钥最好不要用于签名，反之亦然，不同目的不要混用\n3、密钥更改：要根据业务使用频率定期更换密钥，根CA密钥不能换\n密码技术的应用 链路加密 1、加密在通讯的链路中间设备上进行（路由器，无线AP等）\n2、特点\n若运营商不可信，则会产生虚假的安全感\n端到端加密 1、在通讯的两段进行加密、解密\n网关到网关、终端到终端都算端到端加密\n2、特点\nVPN IPSec协议（网络层安全协议） 1、鉴别抱头基本已经不用了\n2、封装安全载荷不如消息验证码保护的健壮\n2、比较复杂的不是两个协议，而是密钥交换方面的问题（IKE）\n安全关联（SA） 1、IPSec协议里面，两个主机要相互通讯的时候，使用什么算法，每个算法使用什么密钥，我们需要配置协商一下。协商的结果要存在一个位置（SADB）供我们以后使用，这些参数就叫安全关联。\n2、SA的格式标准是用互联网安全关联密钥管理协议（ISKMP）来规范\n注：ISKMP只是个格式标准，并不是一个密钥协商协议\nSSL/TLS协议（传输层安全协议） 1、TLS是SSL演化而来，SSL存在很多安全问题\n2、SSL/TSL握手\n注1：TLS握手中认证身份默认是单向的，即客户端要求认证服务器的身份（也可配置双向认证），服务器要给客户端发送有效证书\n注2：是客户端产生预备秘密，然后用服务器的公钥进行加密\n密码分析学 1、仅知密文攻击是最难的\n2、可选明文-密文攻击不是最终目标，最终目标是找到密钥\nside channel旁路攻击（能量分析）\n物理安全概述 物理安全威胁和风险 物理安全威胁会对人身安全造成威胁，信息安全在人身安全面前不值一提，所以保护人身安全是物理安全保护的第一目标\n物理安全控制 1、技术控制（逻辑控制）：用计算机技术控制\n2、物理控制：栅栏、机械锁、警卫、警犬等\n3、行政控制（管理控制）：对人的培训等\n物理安全规划 关键路径分析（CPA） 1、对数据流经的路径及其支撑系统所遭受的威胁进行分析\n站点选址 1、Fire rating：耐火性\n2、空气正压：机房内的气压大于外面的，防止外部的烟尘等有害物质进入设施\n3、正向流动：防止外部水流进机房\n4、数据中心应该建在中间楼层或者中间楼层偏下的位置，减少火灾和水灾的影响\n","date":"2024-04-09T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote04/title.png","permalink":"https://www.blain.top/p/cissp-classnote04/","title":"第04节：安全工程实施（下）"},{"content":"本章大纲 计算机体系结构 1、体系结构研究的东西是什么？\n答：一个复杂的系统，我们将其拆解为若干个子系统，然后再将子系统划分为若干个组件，研究这些组件、子系统在这个系统中的作用以及其中的关系，从而对复杂系统的特点有更深入的理解。所以体系架构是指的一种研究方法，而不是结果。\n2、不存在什么都能解决的系统架构\n计算机硬件的组成对信息安全有什么影响 CPU CPU的安全问题 1、超线程（HT）：在一个CPU里封装两个逻辑控制单元，同时运行两个线程\n2、超线程导致的安全问题：隐蔽信道（CovertChannel）\n一种特殊的通讯方法导致的泄密，是对保密性的一种破坏\n如：在BLP模型中，内外部保密级别不一样，外部消息可以写入内部，但内部消息无法写入外部。但内外部如果勾结以后，外部写入内部时，内部切断信道代表信息“0”、传入成功代表信息“1”。外部观察这个变化进而获取内部信息。这就是隐蔽信道的一种方式。不是传统意义上的信号泄露。\n注：BLP模型 BLP模型是一种模拟军事安全策略的计算机访问控制模型，它是最早也是最常用的一种多级访问模型，该模型用于保护系统信息的机密性。\n这种0/1存储导致的泄密是存储型隐蔽信道，这种信道隐蔽性不是很强\n3、另一种隐蔽信道：时间调制隐蔽信道（Timing CovertChannel）\n内部使用一种程序来控制内存资源的消耗，外部在写入信息时会时快时慢，快代表“1”，慢代表“0”，这就是一种基于时间调制的隐蔽信道\nCPU的运行状态 解题状态和管理程序状态是运行状态的两种子状态，解题就是正常情况下的非特权状态，管理程序状态可以理解为超级管理员状态。通过内核中的控制单元来确定系统处于什么状态。\nCPU指令执行类型 存在的安全问题：\n1、进程的隔离，不允许不同应用进程之间随意通讯\n2、虚拟化可能导致恶意代码的问题更难发现（黑客通过污染虚拟化程序，导致运行在虚拟化之上的重装系统的防病毒软件无法察觉）\n总线与数据传输 以前信息要从内存储设备转向外存储设备需要通过CPU的控制才可以执行，但如果输出流量比较大的时候，CPU负载就会非常高影响其他程序的运行。\nDMA（直接存储器访问）：绕过CPU，直接连接内存储器和外存储器。\n安全问题：这就相当于绕开了CPU的访问控制\n存储系统的层次结构 Cache（缓存） RAM（内存）（易失存储器） 静态随机存储SRAM 比 动态随机存储DRAM 要快\nROM（只读存储器）（非易失存储器） TPM：可信平台模块，很难被篡改，含有CPU的ROM，用于保护密钥的保密性和完整性\n注：ROM不是硬盘\n物理存储器和虚拟存储器（虚拟内存） 虚拟内存的坏处就是，如果突然断电，计算机来不及删除ROM上的信息，就有可能导致黑客分析磁盘页文件从而产生信息泄露\n输入/输出 keylogger：一种USB的物理键盘监听器\nI/O技术 内部操作系统管理输入输出的技术\n1、编程I/O：外部硬件对内存、磁盘的使用就属于编程I/O，优先级很低\n2、中断处理：\n3、中断向量表：用于存储不同应用程序中断的入口地址，是需要操作系统严格保护的一个资源，黑客可以通过篡改中断向量表来实现提权。\n固件，Firmware 保护机制 保护机制的基本概念 1、主体和客体之间的交互就是访问，安全工作最主要的形式就是进行访问控制来实现一系列的安全策略（系统级）\n2、多级安全策略是最复杂的、解决涉及国家安全问题的安全策略，不是最安全的意思\n保护机制1：TCB（可信计算基） TCB（可信计算基）是桔皮书里的一个概念\n注：桔皮书的标准已经过时了，现在使用“共同准则”来评估系统安全性\n保护机制2：Reference Monitor（参照监视） 1、最核心的机制是访问控制，参照监视可以理解为访问控制的另一种说法\n2、要求：必须能监视所有主体和客体的访问，不能有任何的例外\n保护机制3：Security Kernel（安全内核） 1、安全内核是TCB里面实现RM的一个实体\n2、设计操作系统时，内核必须满足三个内核\n3、可验证性：安全内核要尽量的简单，方便验证\n保护机制4：Protection Ring（保护环） 1、一般从0环开始标注\n2、保护环能实现“隔离”的安全要求，能减少被突破后的损失\n3、保护环是深度防御安全控制原则的具体实现\n保护机制5：Security Labels（安全标记） 1、BLP出现之前用自主访问控制（由某个人的自主意志来决定），BLP出现以后用强制访问控制（由标签的比对来决定）\n2、出现安全标记就要想到强制访问控制\n保护机制6：Security Domain（安全域） 1、将安全需求类似的资源放到一起（这就是安全域）对其进行统一保护。\n2、安全域是简化安全工作的常用方法\n保护机制7：进程隔离，硬件分离，最小特权 保护机制8：Hardening（加固） 1、一般的加固：禁用不用的端口、禁用某些服务等。更高的加固：剥离某些服务的代码\n安全模型 系统运行的安全模式 1、专用模式\n2、系统高模式\n3、分隔模式\n4、多级安全模式\n多级安全的两个特例：\n​\t5、受控模式：在多级系统中，各用户都是能溯源的，若有用户发生泄密，我们能对其进行控制\n​\t6、受限模式：后果有限\n安全模型的基本概念 1、定义：安全模型是高度抽象的、形式化的数学模型\n2、目的：为设计和实现安全机制提供了一种理论框架\n信息安全模型分类 安全模型分为访问控制模型（保密型模型）和完整性模型\n1、状态机模型 1、状态机模型是研究自动化系统的数学工具\n2、安全的状态机模型：是指两个假设和一个推论\n假设系统一共有n+1个状态，并且都是安全的；假设一共有n个状态转换过程，并且也都是安全的。则这个系统就是安全的\n2、信息流模型 1、信息流模型是基于状态机模型的\n2、信息流模型认为，系统运行过程中状态的变化是因为信息的流动导致的。\n3、基于状态机模型的假设，如果信息流动是安全的，则这个系统是安全的\n3、*BLP模型（Bell-LaPadula模型） BLP模型是一个为了解决保密型问题的模型，在涉密领域用的广泛\nBLP模型的安全规则 1、低不能读高，高不能写低。总之信息不能从高流向低\n2、BLP模型中既有强制访问控制又有自助访问控制，属于格子模型。而格子模型属于信息流模型的扩充，所以BLP也属于信息流模型。而信息流模型又是状态机模型的扩充，而BLP也属于状态机模型。\nBLP模型的缺陷 1、BLP模型不能解决所有问题，因为假设不一定成立\n4、Biba模型 1、Biba模型是一个为了解决完整性问题的模型\n2、是格子模型、是信息流模型、是状态机模型\n完整性公理 1、Biba模型高不能读低，低不能写高，如何理解？\n从信息完整性的角度来看，官方媒体（高）不能从自媒体（低）的稿子里随便读取一个信息来发表，自媒体给官方媒体投的稿被直接扔掉。\n2、Biba模型在非涉密领域应用非常广泛\n电力系统使用Biba模型，其二次系统和三次系统之间通过网闸隔离\n5、Lattice模型 1、基于BLP模型的扩充\n2、不仅有层次的隔离，还有类别的隔离\n3、补充：强制访问控制当中，安全标签不仅要有级别的标注，还要有类别的标注\n6、Clark-Wilson模型 1、基于流程的模型，为了实现完整性\n2、工作原理： ①把数据分为两类：自由数据（完整性不确定）、受限数据（约束数据，完整性已经确定，可以使用）\n②模型的作用在于如何把自由数据转化为受限数据。\n③这个转化要通过两个流程来实现，\n转换程序：信息必须通过业务程序录入到系统空间，不能由技术人员直接录入到后台。区别与信息流动的二元组（主体流向客体），模型的信息流动是由三元组实现，即在主客体之间多了转换程序\n完整性检查程序：检查转换程序是否正确。（职务分离）\n3、模型的另一个名字：受限界面模型（restricted interface model）\n7、中国墙模型 1、中国墙另一个常用名字：Brew and Nash模型\n2、安全目标：解决利益冲突\n如何理解利益冲突？\n举例：一个顾问在A银行做评估时听取了A银行的一些管理方式，当在B银行（与A银行存在激烈的竞争关系）进行评估时，或许会将A银行的这些管理方式有意无意地泄露出去，导致A银行的利益受损。\n3、冲突域\n将存在利益冲突的单位放在一个冲突域里面，一个“咨询顾问”只能访问一个冲突域里面的一个客户信息\n8、非干涉模型 1、该模型为了解决隐蔽信道问题\n2、工作流程举例：\n在前面隐蔽信道例子中，相当于加了个中间C，当内部的A无论怎么插拔网线。外界的B都无法观察到其变化。这就阻止了隐蔽信道的问题\n9、取-予模型（Take-Grant） 1、该模型为了解决授权问题\n2、为什么要有这个模型？ 举例：\n①A将权限授予（G）了B\tA→B\n②C是B的上级，获取（T）了B的权限\tB→C\n③D将权限授予了C，C就相当于同时拥有了A与D的权限\tD→C\n④若A和D的权限是需要职责分离的，则C这种情况就不应该发生\tC=A+D\n结论：\n该模型就是利用这种指向图的方式来研究授权过程中的风险，从而提出授权过程的禁止性要求\n10、访问矩阵模型（最常用、最直接） 1、被称为最直接的模型的原因\n因为模型是用来研究安全策略的分析工具，不是用来实现安全策略的方法。而访问控制矩阵既是一个模型又是一个方法，所以被称为最直接的模型\n2、存在的问题\n访问矩阵是一个二维表，当用户和目标过多时，矩阵会存在很多的空值（稀疏矩阵），存储和读取效率比较低。\n3、解决方法1：访问控制列表（主附客）\n相当于只取矩阵的每一列，将附着在客体上的主体单独取出来构成列表。\n4、解决方法2：能力列表（客附主）\n相当于只取矩阵的每一行，将附着在主体上的客体单独取出来构成列表。\n系统评测 目的：让别人相信我们的系统能实现什么安全目标\n信息系统评估标准 1、桔皮书TCSEC是最早的信息安全标准，但仅限于操作系统\n2、ITSEC提出两个要求：安全功能的要求、安全保障的要求\n3、CC国际通用准则后续发展为ISO 15408\nTCSEC，桔皮书（不重要） 校验保护：内核设计需要被证明为是正确的，除了足够简单以外，还要采取形式化设计（需求和设计过程要用数学语言来表达），通过数学证明来证明能实现改目标\nITSEC CC（共同准则） 关键概念 *保护轮廓PP 从用户的角度分层来提出各种安全要求的一种系统化的方法\n基本原理部分其实就是一个证明部分，证明所提出的安全要求足以实现安全目标\n","date":"2024-03-09T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote03/title.jpg","permalink":"https://www.blain.top/p/cissp-classnote03/","title":"第03节：安全工程实施（上）"},{"content":"最近疯狂单曲循环Everywhere We Go\n分享一个知乎博主写的CISSP学习心得\n自学通过CISSP，其实没那么难 以及他的学习笔记\nCISSP知识点梳理 风险管理★ 确定风险消减策略 降低风险是主要的工作内容，转嫁风险可以理解为买保险\n评价残留风险 评价就是指什么样的风险是可以接受的\n1、风险偏好：喜不喜欢冒比较高的风险\n2、风险承受能力：风险容忍度\n3、很多企业内部都有一个风险标杆，一旦评价超过这个风险阈值就绝不开展这个业务。\n组织的信息安全实践（人） 信息安全必须人尽其事\n信息安全管理中的道德 1、需要明确数据收集者和数据主体之间的关系\n2、数据保管者和拥有者可以不是一个人\n3、数据用户一般指日常工作中的一般工作人员\n4、系统用户指的是具有系统管理员权限的用户\n5、系统拥有者一般指系统用户的领导，对系统的配置等能提出管理要求，拥有最高的权限。\n6、系统管理者指IT部门主管一类\n信息系统用户的误区 不正当行为辩护常见的借口\n轻而易举谬论：在网上其实轻而易举就能犯大错误\nISC2的道德规范 1、在ISC2规范中，社会利益＞雇主利益\n设计合理的信息安全组织架构 1、第一道防线：IT部门、业务部门\n2、第二道防线：建立一个脱离IT部门和业务部门之外的专门的信息安全部门，防止出现利益冲突（安全管理委员会设立日常风险管理办公室）\n3、第三道防线：审计部门\n重要的角色和责任 1、最终负责人在不同场景中可能指的人不一样，例如对于企业来说最终负责人是一把手，但对于某些数据来说，可能是数据管理部门的负责人。要注意考题中是否涉及到具体的事务性话题\n2、安全管理员有多种定义，有些是管防火墙这种的，有的是管账号的，还有的是非IT部门中作为“安全接口”（负责上传下达）的人员\n安全建设应按计划行事（top-down） 高度重视人员安全问题 第一阶段：入职 1、背景调查\n2、保密协议\n保密协议往往仅限于心理的影响而不是实际的影响\n第二阶段：在职（后续再讲） 第三阶段：离职 信息安全培训 安全意识培训：对于全员进行培训（最难做的工作）\n安全技能培训：安全相关技能培训（如何使用相关安全设备）\n安全教育培训：专业的技术培训，往往需要了解底层逻辑等。\n计算机犯罪 计算机犯罪定义 1、计算机辅助的犯罪：电信诈骗、通过网络传播淫秽色情图片等\n2、计算机特有的犯罪：DOS攻击，SQL注入攻击\n3、计算机附带因素犯罪：犯罪嫌疑人电脑中的顾客列表\n计算机犯罪特点 1、调查取证困难，证据容易破坏\n2、相关法律还不完善\n3、具有跨地域特征\n4、从统计数据上来看，由内部人员实施的犯罪比率最高（从损失来讲）\n5、受害机构有时不报案，担心损害用户对机构的信心（被勒索）\n计算机犯罪类型 包含不常见类型\n1、萨米拉香肠：积少成多的犯罪\n2、数据篡改：会计欺诈做假账，使得股票升值\n3、电磁泄露捕获：不是wifi等信号窃取，而是电磁辐射泄露导致的（例如窃取别人显示器画面）\n注：通过白噪声、法拉第笼等来减轻电磁泄露风险（tempest）\n计算机犯罪三要素MOM 动机：内因（寻求刺激、报复），挑战，外因（经济、政治，如：APT）\n机会：缺陷、弱点\n方式：了解系统运行机制，使用何种攻击方法等\n计算机犯罪相关法律 法律体系 法律类型 知识产权相关法律 1、著作权只保护创意的表现形式（打击盗版书籍）而不保护作品的创意（书籍的内容被人看了）\n2、商标保护的重要前提是注册，但有时也不用注册\n3、专利必须注册才能被保护，并且还有有效期\n知识产权的保护应当适度，不然容易造成富人更富、穷人更穷的情况\n个人隐私的定义 合理的隐私期待，不能过度使用监视权\nBCP概述（业务持续计划） 灾难的定义 灾备的定义可能不像平常想象中那么“浅显”，它是一种特殊手段，举例：工商银行全业务中断2.5h都没有启动灾备预案。灾备所面临的事件往往更大，需要BIA来确定哪些是关键业务、多长算长时间。\nBCP相关计划之间的关系 考试需要明确BCP与BRP的区别\n1、历史发展：\n备份→异地备份→DRP（重建一个备用站点、备用系统、灾备机房（花费太大））→BCP\n2、BCP的二八原则，将80%的财力用到20%的关键业务当中，BCP的最核心工作就是业务影响分析\n3、BCP是DRP的延伸\ncommunications通常指的是公共关系（记者提问），需要专业人员去发言\n应急响应在运维部分讨论\nBCP项目规划 1、任何安全工作的需求分析都是风险分析来实现的\n2、BCP投资非常大，在项目前期需要沟通好\nBCP项目负责人 一定是个高管，至少是CIO（首席信息官）、或者CEO的副手\nBCP策略条款 业务连续性话题已经远远超出IT范畴，是一种特殊的安全手段，投入非常大，需要IT部门配合\n业务影响分析（BIA） BIA的目的 1、针对重大可用性风险的专项评估\n2、特殊性\n什么是功能支持方面的不足？\n对于业务的影响非常大的单点系统（如果一个路由器坏了，整个业务就中断了，这台路由器就是单点）\nBIA的过程 与定性风险评估的流程基本一样\n1、时间关键：中断后立刻就会产生影响的业务\n2、最大允许中断时间MTD越短的业务越关键\n3、MTD判断标准是造成难以挽回的损失的大小\n支持资源的种类 1、人力资源最难恢复\n2、外部服务恢复也很难\n3、最花钱的是物理基础设施资源\n预期潜在紧急情况 BCP策略选择 确定防御性控制 发现单点问题，设计改造方案\n不同阶段的应急计划策略 1、迁移关键业务是恢复阶段\n2、保护人员安全属于紧急响应阶段\n3、恢复业务正常秩序，由灾备方案切换回正常方案是复原阶段\nBCP策略关键技术指标（考点） 1、恢复时间目标是恢复的快慢\n2、恢复点目标是最大能容忍多长时间的数据损失\n3、单位都是时间\n4、和最大允许中断时间（MTD）之间的关系\nMTD是一个底线，RTO和RPO是所选策略的技术指标，只要RTO＜MTD就算符合基本要求，当然还是在符合成本效益之内越快越好\n","date":"2024-03-04T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote02/title.png","permalink":"https://www.blain.top/p/cissp-classnote02/","title":"第02节：安全与风险管理（下）"},{"content":"章节介绍 风险管理是重点\n前四节是传统安全管理部分\n法律不用太深入研究，很难考到\nBCP业务持续计划：防止业务中断\n信息安全概述 什么是信息？ 信息的重要特征：有意义的、有价值的、本质是无形的、需要靠介质来存储的\n价值评判依据：假如这个信息没保护好，给我们带来损失大小作为评判依据\n信息安全保护最重要的原则：全流程原则 信息安全的基本目标 信息安全的基本目标：保密性、完整性、可用性（CIA）\n与之相反的事DAD三元组：泄露D、篡改A、破坏D\n完整性的信息内部和外部的一致性解释：\n分为内部（IT环境的内部）一致性和外部（IT环境的外部）一致性\n举例：在公司打印机管理系统中，各部门的打印机数量之和与系统记录的总数不一样，这是内部一致性的问题。如果有个部门私自买了一台打印机，没有录入系统，这就是外部一致性问题。\n完整性的延伸：来源真实性、抗抵赖性\n信息安全的本质 不仅仅是保护好CIA，同时还要兼顾效率，学习各方面的基础知识，尽量达成各方面之间的平衡\n本质是一个管理问题\n什么是信息安全管理？ 三分技术、七分管理，需要深入地去理解\n信息安全管理模型 PDCA（戴明环）\n信息安全工作只有开始没有结束\n信息安全治理 什么是安全策略？ 安全策略具有层次性（Top-Down） 方针、标准、指南、基线、程序\n标准：强制标准与推荐标准\n程序又叫流程\n安全策略的层次模型 应该制定哪些策略 AUP：可接受的使用策略（如：公司邮件不允许传输个人信息等）\n针对合规性的审计框架 COSO（财务内控框架） 举例：上个世纪，美国有一些上市公司的经营者和所有者不一定是一个人（职业经理人），如果经理人的控制措施失效了，把企业搞垮了，这些经营者可以什么责任都不负，让国家和股民承担责任，这个逻辑就很不合理。所以用COSO来防止这种情况出现。\nITIL（IT服务质量提升标准） 质量和安全之间的关系：安全和质量有时可以画约等号\nITIL和安全很相关\nCOBIT（IT治理的一个框架） 现在的IT标准有一种不断被拔高的趋势，越来越抽象，越来越难落地\nCOBIT能让IT治理更好地为业务服务：\n企业架构（EA） IT需求的管理工具，发现总结IT需求\n两种常见的企业架构如下\nISO27000系列国际安全标准 ISO27001标准：实施过程、审计要求的标准，是信息安全管理系统 (ISMS) 的规范或认证\nISO27002标准：是27001的补充，更精确和详细，由ISO17799改名而来，\n风险管理★ 风险管理相关要素 风险三要素：资产、威胁、弱点\n计算风险大小还要通过“可能性”、“影响”两个判断★\n如果风险要分为四要素，则需加上“安全措施”\n不考虑安全措施时的风险叫做“固有风险”（全面风险），考虑之后的风险叫做“残留风险”\n风险管理的目标 目标：通过安全工作，影响风险三要素，从而降低风险大小\n1.减少弱点是主要的安全工作（修补漏洞）\n2.如何理解减少资产来降低风险？\n经营资产保持增值主要是从贡献的角度来考虑的，而降低资产价值是从安全角度来提的（不要把鸡蛋放在一个篮子里）\n举例：在线教育系统里面有十年前的历史记录，几乎没人来查询。如果一直存在系统中，一旦系统被攻破，则造成的损失是巨大的。但如果我们将其从系统中剥离，即时系统被攻破，损失也会小得多。\n3.减少威胁如何理解？\n起因：有人认为黑客、地震等影响都是客观存在的，无法减少\n减少资产暴露其实就是减少威胁的方法\n举例1：互联网上有许多黑客，如果一个系统不接入互联网对其影响不大，则将其放置在内网，就是减少威胁的手段\n举例2：建站选址时，考虑地震发生率，也算是减少地震威胁的手段\n安全没有绝对可言 风险管理最重要的原则：成本效益原则 做好安全和效益的平衡\n风险评估很重要\n风险评估★ 风险评估包括风险分析和风险评价两部分\n风险分析是将风险的大小确定下来\n风险评价是提出解决风险的建议\n（没有统一的说法，做题有时要靠上下文分析）\n定量评估和定性评估 定量分析需要具体的金额以及单位，除此是定性分析(高中低)\n定量分析不经常使用（除了诸如保险公司这类的企业）\n定性分析含有很大的主观色彩，属于社会科学，任何的定性测量分析都有不确定性\n单一损失期望计算公式\n年度损失期望计算公式\nDelphi是背对背小组讨论方式，防止个别权威人士发言影响大家充分发挥自己的意见\n（既能防止领导一言堂，也能防止某些人事后诸葛亮）\n识别信息资产 资产价值要由拥有者来判断，由业务主管的意见为准\n评价信息资产 识别并评估威胁 识别并评估弱点 风险评价前需要确定两个指标 风险影响和风险可能性\n风险评估矩阵 定性风险评估的工具\n","date":"2024-03-02T00:00:00Z","image":"https://www.blain.top/p/cissp-classnote01/title.png","permalink":"https://www.blain.top/p/cissp-classnote01/","title":"第01节：安全与风险管理（上）"},{"content":"起因 电脑有时安装的第三方软件在删除后，启动台里的图标始终不消失，重启也不行（如下图所示）。但由于我是强迫症，不删除难受。之前安装网络上的重置启动台的方式确实能删除，但是原先的启动台布局及分类也都消失了，属实难受，故有此文章。\n解决办法 第一步 前往 打开访达，点击最顶部菜单栏的“前往”→“前往文件夹”；或者在访达图标右击，选择“前往文件夹”。接着输入/private/var/folders。\n第二步 搜索 使用搜索功能在folders文件夹下搜索com.apple.dock.launchpad\n接着进入com.apple.dock.launchpad文件夹里，可以看到db文件夹，双击进入db目录。\n第三步 终端命令 右击进入终端，输入如下命令：\nsqlite3 db \u0026#34;delete from apps where title=\u0026#39;appName\u0026#39;;\u0026#34;\u0026amp;\u0026amp;killall Dock appName自行替换为启动台显示的图标名称，回车即可删除\n非常好用 强迫症得到了治愈\n","date":"2024-01-21T00:00:00Z","image":"https://www.blain.top/p/macs-icon/title.jpeg","permalink":"https://www.blain.top/p/macs-icon/","title":"MAC顽固图标删除技巧"},{"content":"写在前面：\n本篇教程由于作者很懒，部分内容可能是从别处CV过来的，可能与作者实际配置的有细微差别，如果发现有错误的地方导致你无法实现该功能先深表歉意，并且欢迎通过右下角的channel联系我~ 在我看到消息后会第一时间给你我实际的配置内容。\n本次装修的环境 操作系统:\tMacOS Sonoma 14.0\nMarkdown编辑器:\tTypora\n博客配置编辑器:\tVS Code\n命令行工具:\tGit、Terminal\nHugo版本:\thugo_extended_0.121.2_darwin-universal\nHugo主题:\thugo-theme-stack\nhugo博客的结构 因为不会写前端，也是第一次搭建hugo博客，在此写下我浅显的理解，如有错误，欢迎批评指正\n本文通过 git submodule 方式安装的stack主题，不难发现，初始化后的主题目录结构为\n. ├── archetypes ├── assets ├── config.yaml ├── content ├── data ├── deploy.sh ├── i18n ├── img ├── layouts ├── public ├── resources ├── static └── themes 而themes/hugo-theme-stack目录下的主题为\n. ├── LICENSE ├── README.md ├── archetypes ├── assets ├── config.yaml ├── data ├── debug.sh ├── exampleSite ├── go.mod ├── i18n ├── images ├── layouts ├── netlify.toml └── theme.toml 二者有很多相似之处（比如都有assets、layouts等目录），通过前端定位等测试发现，主目录下如果和hugo-theme-stack目录有相同的配置文件，则优先生效主目录下的文件（但似乎也有特殊情况，不过通常是这样的）。所以这里建议在assets创建一个名为scss的文件夹,然后在scss文件夹里创建一个名为custom.scss的文件，用于存放魔改代码。引用下面是页面概览：\n整体自定义样式表文件 这里贴出我的整体样式表文件，需要可自取：\n// ~\\blog\\assets\\scss\\custom.scss // 页面基本配色 :root { // 全局顶部边距 --main-top-padding: 30px; // 全局卡片圆角 --card-border-radius: 25px; // 标签云卡片圆角 --tag-border-radius: 8px; // 卡片间距 --section-separation: 40px; // 全局字体大小 --article-font-size: 1.8rem; // 行内代码背景色 --code-background-color: #f8f8f8; // 行内代码前景色 --code-text-color: #e96900; // 暗色模式下样式 \u0026amp;[data-scheme=\u0026#34;dark\u0026#34;] { // 行内代码背景色 --code-background-color: #ff6d1b17; // 行内代码前景色 --code-text-color: #e96900; } } //------------------------------------------------------ // 修复引用块内容窄页面显示问题 a { word-break: break-all; } code { word-break: break-all; } //-------------------------------------------------- // 文章封面高度 .article-list article .article-image img { width: 100%; height: 200px !important; object-fit: cover; @include respond(md) { height: 250px !important; } @include respond(xl) { height: 285px !important; } } //--------------------------------------------------- // 文章内容图片圆角阴影 .article-page .main-article .article-content { img { max-width: 96% !important; height: auto !important; border-radius: 8px; } } //------------------------------------------------ // 文章内容引用块样式 .article-content { blockquote { border-left: 6px solid #358b9a1f !important; background: #3a97431f; } } // --------------------------------------- // 代码块基础样式修改 .highlight { max-width: 102% !important; background-color: var(--pre-background-color); padding: var(--card-padding); position: relative; border-radius: 20px; margin-left: -7px !important; margin-right: -12px; box-shadow: var(--shadow-l1) !important; \u0026amp;:hover { .copyCodeButton { opacity: 1; } } // keep Codeblocks LTR [dir=\u0026#34;rtl\u0026#34;] \u0026amp; { direction: ltr; } pre { margin: initial; padding: 0; margin: 0; width: auto; } } // light模式下的代码块样式调整 [data-scheme=\u0026#34;light\u0026#34;] .article-content .highlight { background-color: #fff9f3; } [data-scheme=\u0026#34;light\u0026#34;] .chroma { color: #ff6f00; background-color: #fff9f3cc; } //------------------------------------------- // 设置选中字体的区域背景颜色 //修改选中颜色 ::selection { color: #fff; background: #34495e; } a { text-decoration: none; color: var(--accent-color); \u0026amp;:hover { color: var(--accent-color-darker); } \u0026amp;.link { color: #4288b9ad; font-weight: 600; padding: 0 2px; text-decoration: none; cursor: pointer; \u0026amp;:hover { text-decoration: underline; } } } //------------------------------------------------- //文章封面高度更改 .article-list article .article-image img { width: 100%; height: 150px; object-fit: cover; @include respond(md) { height: 200px; } @include respond(xl) { height: 305px; } } //--------------------------------------------------- // 全局页面布局间距调整 .main-container { min-height: 100vh; align-items: flex-start; padding: 0 15px; gap: var(--section-separation); padding-top: var(--main-top-padding); @include respond(md) { padding: 0 37px; } } //-------------------------------------------------- //页面三栏宽度调整 .container { margin-left: auto; margin-right: auto; .left-sidebar { order: -3; max-width: var(--left-sidebar-max-width); } .right-sidebar { order: -1; max-width: var(--right-sidebar-max-width); /// Display right sidebar when min-width: lg @include respond(lg) { display: flex; } } \u0026amp;.extended { @include respond(md) { max-width: 1024px; --left-sidebar-max-width: 25%; --right-sidebar-max-width: 22% !important; } @include respond(lg) { max-width: 1280px; --left-sidebar-max-width: 20%; --right-sidebar-max-width: 30%; } @include respond(xl) { max-width: 1453px; //1536px; --left-sidebar-max-width: 15%; --right-sidebar-max-width: 25%; } } \u0026amp;.compact { @include respond(md) { --left-sidebar-max-width: 25%; max-width: 768px; } @include respond(lg) { max-width: 1024px; --left-sidebar-max-width: 20%; } @include respond(xl) { max-width: 1280px; } } } //------------------------------------------------------- //全局页面小图片样式微调 .article-list--compact article .article-image img { width: var(--image-size); height: var(--image-size); object-fit: cover; border-radius: 17%; } //---------------------------------------------------- //固定代码块的高度 .article-content { .highlight { padding: var(--card-padding); pre { width: auto; max-height: 20em; } } } // -------------------------------- // 菜单栏样式 // 下拉菜单改圆角样式 .menu { padding-left: 0; list-style: none; flex-direction: column; overflow-x: hidden; overflow-y: scroll; flex-grow: 1; font-size: 1.6rem; background-color: var(--card-background); box-shadow: var(--shadow-l2); //改个阴影 display: none; margin: 0; //改为0 border-radius: 10px; //加个圆角 padding: 30px 30px; @include respond(xl) { padding: 15px 0; } \u0026amp;, .menu-bottom-section { gap: 30px; @include respond(xl) { gap: 25px; } } \u0026amp;.show { display: flex; } @include respond(md) { align-items: flex-end; display: flex; background-color: transparent; padding: 0; box-shadow: none; margin: 0; } li { position: relative; vertical-align: middle; padding: 0; @include respond(md) { width: 100%; } svg { stroke-width: 1.33; width: 20px; height: 20px; } a { height: 100%; display: inline-flex; align-items: center; color: var(--body-text-color); gap: var(--menu-icon-separation); } span { flex: 1; } \u0026amp;.current { a { color: var(--accent-color); font-weight: bold; } } } } // ~\\blog\\assets\\scss\\custom.scss //------------------------------------------------ //将滚动条修改为圆角样式 //菜单滚动条美化 .menu::-webkit-scrollbar { display: none; } // 全局滚动条美化 html { ::-webkit-scrollbar { width: 20px; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar-thumb { background-color: #d6dee1; border-radius: 20px; border: 6px solid transparent; background-clip: content-box; } ::-webkit-scrollbar-thumb:hover { background-color: #a8bbbf; } } //-------------------------------------------------- //归档页面双栏 /* 归档页面两栏 */ @media (min-width: 1024px) { .article-list--compact { display: grid; grid-template-columns: 1fr 1fr; background: none; box-shadow: none; gap: 1rem; article { background: var(--card-background); border: none; box-shadow: var(--shadow-l2); margin-bottom: 8px; border-radius: 16px; } } } //-------------------------------------------------- //链接三栏 @media (min-width: 1024px) { .article-list--compact.links { display: grid; grid-template-columns: 1fr 1fr 1fr; //三个1fr即为三栏,两个1fr则为双栏,以此类推即可. background: none; box-shadow: none; gap: 1rem; article { background: var(--card-background); border: none; box-shadow: var(--shadow-l2); margin-bottom: 8px; border-radius: var(--card-border-radius); \u0026amp;:nth-child(odd) { margin-right: 8px; } } } } //--------------------------------------------------------- //首页欢迎板块样式 .welcome { color: var(--card-text-color-main); background: var(--card-background); box-shadow: var(--shadow-l2); border-radius: 30px; display: inline-block; } // 👋emoji实现摆动效果 .shake { display: inline-block; animation: shake 1s; animation-duration: 1s; animation-timing-function: ease; animation-delay: 0s; animation-iteration-count: 1; animation-direction: normal; animation-fill-mode: none; animation-play-state: running; animation-name: shake; animation-timeline: auto; animation-range-start: normal; animation-range-end: normal; animation-delay: 2s; @keyframes shake { 0% { transform: rotate(0); } 25% { transform: rotate(45deg) scale(1.2); } 50% { transform: rotate(0) scale(1.2); } 75% { transform: rotate(45deg) scale(1.2); } 100% { transform: rotate(0); } } } // 实现字符跳动动画 .jump-text1 { display: inline-block; animation: jump 0.5s 1; } .jump-text2 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.1s; } .jump-text3 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.2s; } .jump-text4 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.3s; } .jump-text5 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.4s; } .jump-text6 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.5s; } .jump-text7 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.6s; } .jump-text8 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.7s; } .jump-text9 { display: inline-block; animation: jump 0.5s 1; animation-delay: 0.9s; } @keyframes jump { 0% { transform: translateY(0); } 50% { transform: translateY(-20px); } 100% { transform: translateY(0); } } //-------------------------------------------------- //引入左上角返回按钮 .back-home { background: var(--card-background); border-radius: var(--tag-border-radius); color: var(--card-text-color-tertiary); margin-right: 0.1rem; margin-top: 24px; display: inline-flex; align-items: center; font-size: 1.4rem; text-transform: uppercase; padding: 10px 20px 10px 15px; transition: box-shadow 0.3s ease; box-shadow: var(--shadow-l3); \u0026amp;:hover { box-shadow: var(--shadow-l2); } svg { margin-right: 5px; width: 20px; height: 20px; } span { font-weight: 500; white-space: nowrap; } } .main-container .right-sidebar { order: 2; max-width: var(--right-sidebar-max-width); /// Display right sidebar when min-width: lg @include respond(lg) { display: flex; } } main.main { order: 1; min-width: 0; max-width: 100%; flex-grow: 1; display: flex; flex-direction: column; gap: var(--section-separation); @include respond(md) { padding-top: var(--main-top-padding); } } //---------------------------------------------------------- //为代码块顶部添加macos样式 .article-content { .highlight:before { content: \u0026#34;\u0026#34;; display: block; background: url(/img/code-header.svg); height: 32px; width: 100%; background-size: 57px; background-repeat: no-repeat; margin-bottom: 5px; background-position: -1px 2px; } } .tagCloud { .tagCloud-count { color: var(--body-text-color); } } .copyCodeButton { border-radius: var(--category-border-radius); } code { border-radius: var(--category-border-radius); } .article-category { display: flex; flex-wrap: wrap; gap: 10px; a { background: var(--card-background); box-shadow: var(--shadow-l1); border-radius: var(--category-border-radius); padding: 8px 20px; color: var(--card-text-color-main); font-size: 1.4rem; transition: box-shadow 0.3s ease; \u0026amp;:hover { box-shadow: var(--shadow-l2); } } } /* Category widget */ .category { .category-label { display: flex; flex-wrap: wrap; gap: 10px; a { border-left: 6px solid; background: var(--card-background); box-shadow: var(--shadow-l1); border-radius: var(--category-border-radius); padding: 12px 20px; color: var(--card-text-color-main); font-size: 1.5rem; transition: box-shadow 0.3s ease; \u0026amp;:hover { box-shadow: var(--shadow-l2); } } } .category-count { color: var(--body-text-color); } } .running-time { color: var(--card-text-color-secondary); font-weight: normal; .running-days { font-weight:bold; color: var(--emphasize-text-color); } } .totalcount { color: var(--card-text-color-secondary); font-weight: normal; margin-bottom: 5px; } code { border-radius: var(--tag-border-radius); font-size: 14px; // Add font size setting for code block font-family: var(--code-font-family); } .article-subtitle { margin-top: -5px; font-size: 1.5rem; @include respond(md) { font-size: 1.6rem; } } /*头像旋转动画*/ .sidebar header .site-avatar .site-logo { transition: transform 1.65s ease-in-out; //旋转时间 } .sidebar header .site-avatar .site-logo:hover { transform: rotate(360deg); //旋转角度为360度 } /*社交菜单居中*/ .social-menu svg { gap: 15px; justify-content: center; width: 30px; height: 25px; //社交菜单大小 stroke: var(--body-text-color); stroke-width: 1.33; } /*页面加载动画部分*/ #loading-box .loading-left-bg, #loading-box .loading-right-bg { position: fixed; z-index: 1000; width: 50%; height: 100%; // 我在这里小改了一下颜色， background-color: #b1c0c7; transition: all 0.5s; } #loading-box .loading-right-bg { right: 0; } #loading-box\u0026gt;.spinner-box { position: fixed; z-index: 1001; display: flex; justify-content: center; align-items: center; width: 100%; height: 100vh; } #loading-box .spinner-box .configure-border-1 { position: absolute; padding: 3px; width: 115px; height: 115px; background: #ffab91; animation: configure-clockwise 3s ease-in-out 0s infinite alternate; } #loading-box .spinner-box .configure-border-2 { left: -115px; padding: 3px; width: 115px; height: 115px; background: rgb(63, 249, 220); transform: rotate(45deg); animation: configure-xclockwise 3s ease-in-out 0s infinite alternate; } #loading-box .spinner-box .loading-word { position: absolute; color: #ffffff; // 我在这里小改了一下文字大小和字体，注意！ font-size: 1.8rem; font-family: \u0026#39;Zhi Mang Xing\u0026#39;, cursive; } #loading-box .spinner-box .configure-core { width: 100%; height: 100%; background-color: #37474f; } div.loaded div.loading-left-bg { transform: translate(-100%, 0); } div.loaded div.loading-right-bg { transform: translate(100%, 0); } div.loaded div.spinner-box { // 你可以把这个注释掉，这样就能一直看那个动画的效果了！ display: none !important; } @keyframes configure-clockwise { 0% { transform: rotate(0); } 25% { transform: rotate(90deg); } 50% { transform: rotate(180deg); } 75% { transform: rotate(270deg); } 100% { transform: rotate(360deg); } } @keyframes configure-xclockwise { 0% { transform: rotate(45deg); } 25% { transform: rotate(-45deg); } 50% { transform: rotate(-135deg); } 75% { transform: rotate(-225deg); } 100% { transform: rotate(-315deg); } } 动态纹理：蛛网、花瓣 蛛网特效在 /layouts/_default/baseof.html中间插入以下代码\n\u0026lt;script type=\u0026quot;text/javascript\u0026quot; src=\u0026quot;https://demo.hellozwh.com/source/canvas-nest.min.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;\n花瓣特效只需要将src的地址换为https://cdn.jsdelivr.net/gh/Ukenn2112/UkennWeb@3.0/index/web.js即可\n修改主页侧边栏样式 修改头像及简介 将自己的头像存放在/assets/img/目录下，之后打开主目录下的config.yaml文件，搜索sidebar，\nsubtitle代表简介\navatar的src路径为头像路径\n改为如下代码\n(local最好设置为true，不然头像修改不成功)\nsidebar: compact: false emoji: 🍥 subtitle: 行者不必言深，孤独本是常态。 avatar: enabled: true local: true src: /img/avatar.jpg 修改社交栏 依然是在主目录下的config.yaml文件进行修改，搜索social，需要添加一个社交按钮则仿照原来的添加如下代码：\n- identifier: github name: GitHub url: https://github.com/Bla1n params: newTab: true icon: brand-github icon图标存储目录为~/blog/themes/hugo-theme-stack/assets/icons\n修改栏目 icon存储目录同上，但要修改栏目名称则需要前往/content/page目录\n打开对应栏目文件夹，修改index.md文件\n头像旋转😵‍💫 在assets\\scss\\custom.scss路径下添加如下代码\n/* 头像旋转 */ .home .home-profile .home-avatar img { width: 5rem; /* 设置循环动画 [animation: (play)动画名称 (2s)动画播放时长单位秒或微秒 (ease-out)动画播放的速度曲线为以低速结束 (1s)等待1秒然后开始动画 (1)动画播放次数(infinite为循环播放) ]*/ /* 鼠标经过头像旋转360度 */ -webkit-transition: -webkit-transform 1.0s ease-out; -moz-transition: -moz-transform 1.0s ease-out; transition: transform 1.0s ease-out; \u0026amp;:hover { /* 鼠标经过停止头像旋转 -webkit-animation-play-state:paused; animation-play-state:paused;*/ /* 鼠标经过头像旋转360度 */ -webkit-transform: rotateZ(360deg); -moz-transform: rotateZ(360deg); transform: rotateZ(360deg); } } 文章添加音乐 单首音乐效果如下\n音乐列表效果如下\n直接在文章中插入如下代码：\n单曲：（autoplay参数为是否自动播放音乐） {{\u0026lt; music server=\u0026#34;netease\u0026#34; type=\u0026#34;song\u0026#34; id=\u0026#34;1372188635\u0026#34; autoplay=\u0026#34;false\u0026#34; \u0026gt;}} 列表： {{\u0026lt; music auto=\u0026#34;https://music.163.com/playlist?id=6843891038\u0026#34;\u0026gt;}} 修改底栏 博客运行时长 在layouts/partials/footer/custom.html里添加以下JS代码，其中s1是网站创建日期。代码参考自这里 ，加上了小时和分钟的计算。\n\u0026lt;!-- Add blog running time --\u0026gt; \u0026lt;script\u0026gt; let s1 = \u0026#39;2023-3-18\u0026#39;; //website start date s1 = new Date(s1.replace(/-/g, \u0026#34;/\u0026#34;)); let s2 = new Date(); let timeDifference = s2.getTime() - s1.getTime(); let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24)); let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)); let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60)); let result = days + \u0026#34;天\u0026#34; + hours + \u0026#34;小时\u0026#34; + minutes + \u0026#34;分钟\u0026#34;; document.getElementById(\u0026#39;runningdays\u0026#39;).innerHTML = result; \u0026lt;/script\u0026gt; 再在layouts/partials/footer/footer.html里添加以下代码：\n\u0026lt;!-- Add blog running time --\u0026gt; \u0026lt;section class=\u0026#34;running-time\u0026#34;\u0026gt; 本博客已稳定运行 \u0026lt;span id=\u0026#34;runningdays\u0026#34; class=\u0026#34;running-days\u0026#34;\u0026gt;\u0026lt;/span\u0026gt; \u0026lt;/section\u0026gt; 在assets/scss/partials/footer.scss里添加风格样式，这里单独把计时的部分加粗，并改了颜色。\n.running-time { color: var(--card-text-color-secondary); font-weight: normal; .running-days { font-weight:bold; color: var(--emphasize-text-color); } } 上面的计时部分设置成var(--emphasize-text-color)，这样能比较方便地在assets/scss/variables.scss里设置暗色模式的颜色\n--accent-color-text: #fff; --body-text-color: #b0b0b0; --emphasize-text-color: #9e8f9f; // Add emphasize font color \u0026amp;[data-scheme=\u0026#34;dark\u0026#34;] { --emphasize-text-color: #d5cfc4; // Add emphasize font color for dark scheme } 文字统计 在layouts/partials/footer/footer.html里增加以下代码，其中文章篇数统计参考了这篇 ，字数统计的展示方式参考了小球飞鱼的博客 。\n\u0026lt;!-- Add total page and word count time --\u0026gt; \u0026lt;section class=\u0026#34;totalcount\u0026#34;\u0026gt; {{$scratch := newScratch}} {{ range (where .Site.Pages \u0026#34;Kind\u0026#34; \u0026#34;page\u0026#34; )}} {{$scratch.Add \u0026#34;total\u0026#34; .WordCount}} {{ end }} 发表了{{ len (where .Site.RegularPages \u0026#34;Section\u0026#34; \u0026#34;post\u0026#34;) }}篇文章 · 总计{{ div ($scratch.Get \u0026#34;total\u0026#34;) 1000.0 | lang.FormatNumber 2 }}k字 \u0026lt;/section\u0026gt; 在assets/scss/partials/footer.scss里修改风格：\n.totalcount { color: var(--card-text-color-secondary); font-weight: normal; margin-bottom: 5px; } 返回顶部按钮 在阅读长文章时，如果想返回顶部没有快捷按钮则是很不方便的，所以添加此按钮\n在/layouts/partials/footer/custom.html里面添加如下代码\n\u0026lt;!--返回顶部按钮 --\u0026gt; \u0026lt;a href=\u0026#34;#\u0026#34; id=\u0026#34;back-to-top\u0026#34; title=\u0026#34;返回顶部\u0026#34;\u0026gt;\u0026lt;/a\u0026gt; \u0026lt;!--返回顶部CSS --\u0026gt; \u0026lt;style\u0026gt; #back-to-top { display: none; position: fixed; bottom: 20px; right: 55px; width: 55px; height: 55px; border-radius: 7px; background-color: rgba(64, 158, 255, 0.5); box-shadow: var(--shadow-l2); font-size: 30px; text-align: center; line-height: 50px; cursor: pointer; } #back-to-top:before { content: \u0026#39; \u0026#39;; display: inline-block; position: relative; top: 0; transform: rotate(135deg); height: 10px; width: 10px; border-width: 0 0 2px 2px; border-color: var(--back-to-top-color); border-style: solid; } #back-to-top:hover:before { border-color: #2674e0; } /* 在屏幕宽度小于 768 像素时，钮位置调整 */ @media screen and (max-width: 768px) { #back-to-top { bottom: 20px; right: 20px; width: 40px; height: 40px; font-size: 10px; } } /* 在屏幕宽度大于等于 1024 像素时，按钮位置调整 */ @media screen and (min-width: 1024px) { #back-to-top { bottom: 20px; right: 40px; } } /* 在屏幕宽度大于等于 1280 像素时，按钮位置调整 */ @media screen and (min-width: 1280px) { #back-to-top { bottom: 20px; right: 55px; } } /* 目录显示时，隐藏按钮 */ @media screen and (min-width: 1536px) { #back-to-top { visibility: hidden; } } \u0026lt;/style\u0026gt; \u0026lt;!--返回顶部JS --\u0026gt; \u0026lt;script\u0026gt; function backToTop() { document.documentElement.scrollIntoView({ behavior: \u0026#39;smooth\u0026#39;, }) } window.onload = function () { let scrollTop = this.document.documentElement.scrollTop || this.document.body.scrollTop let totopBtn = this.document.getElementById(\u0026#39;back-to-top\u0026#39;) if (scrollTop \u0026gt; 0) { totopBtn.style.display = \u0026#39;inline\u0026#39; } else { totopBtn.style.display = \u0026#39;none\u0026#39; } } window.onscroll = function () { let scrollTop = this.document.documentElement.scrollTop || this.document.body.scrollTop let totopBtn = this.document.getElementById(\u0026#39;back-to-top\u0026#39;) if (scrollTop \u0026lt; 200) { totopBtn.style.display = \u0026#39;none\u0026#39; } else { totopBtn.style.display = \u0026#39;inline\u0026#39; totopBtn.addEventListener(\u0026#39;click\u0026#39;, backToTop, false) } } \u0026lt;/script\u0026gt; 在layouts/partials/footer/components/script.html里可以修改按钮的颜色：\n#back-to-top { background-color: var(--body-background); } #back-to-top:hover:before { border-color: var(--accent-color); } 去除归档页初始滤镜 具体可看此issue 用/* */注释掉themes/hugo-theme-stack/assets/ts/main.ts中的\nimport { getColor } from \u0026#39;ts/color\u0026#39;; 和 const articleTile = document.querySelector(\u0026#39;.article-list--tile\u0026#39;); if (articleTile) { let observer = new IntersectionObserver(async (entries, observer) =\u0026gt; { entries.forEach(entry =\u0026gt; { if (!entry.isIntersecting) return; observer.unobserve(entry.target); const articles = entry.target.querySelectorAll(\u0026#39;article.has-image\u0026#39;); articles.forEach(async articles =\u0026gt; { const image = articles.querySelector(\u0026#39;img\u0026#39;), imageURL = image.src, key = image.getAttribute(\u0026#39;data-key\u0026#39;), hash = image.getAttribute(\u0026#39;data-hash\u0026#39;), articleDetails: HTMLDivElement = articles.querySelector(\u0026#39;.article-details\u0026#39;); const colors = await getColor(key, hash, imageURL); articleDetails.style.background = ` linear-gradient(0deg, rgba(${colors.DarkMuted.rgb[0]}, ${colors.DarkMuted.rgb[1]}, ${colors.DarkMuted.rgb[2]}, 0.5) 0%, rgba(${colors.Vibrant.rgb[0]}, ${colors.Vibrant.rgb[1]}, ${colors.Vibrant.rgb[2]}, 0.75) 100%)`; }) }) }); observer.observe(articleTile) } 以及themes/hugo-theme-stack/layouts/partials/footer/components/script.html中的\n{{- partial \u0026#34;helper/external\u0026#34; (dict \u0026#34;Context\u0026#34; . \u0026#34;Namespace\u0026#34; \u0026#34;Vibrant\u0026#34;) -}} 添加相册功能 日常更新把图片（需按格式：日期 + 空格 + 图片名）丢到/static/photos/中即可。\n/content/page/photos/index.md创建一个 md，好让 Hugo 生成页面\ntitle: 相册 | photos layout: \u0026#34;photos\u0026#34; slug: \u0026#34;photos\u0026#34; menu: main: weight: -50 params: icon: photos comments: false 创建/layouts/_default/photos.html\n{{ define \u0026#34;main\u0026#34; }} \u0026lt;div class=\u0026#34;button-group\u0026#34;\u0026gt; \u0026lt;button class=\u0026#34;filter-button\u0026#34; data-category=\u0026#34;-\u0026#34;\u0026gt;\u0026amp;nbsp;All\u0026amp;nbsp;\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;filter-button\u0026#34; data-category=\u0026#34;日常\u0026#34;\u0026gt;#日常\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;filter-button\u0026#34; data-category=\u0026#34;风景\u0026#34;\u0026gt;#风景\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;filter-button\u0026#34; data-category=\u0026#34;狗哥\u0026#34;\u0026gt;#狗哥\u0026lt;/button\u0026gt; \u0026lt;button class=\u0026#34;filter-button\u0026#34; data-category=\u0026#34;赛\u0026#34;\u0026gt;#赛\u0026lt;/button\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div class=\u0026#34;gallery-photos page\u0026#34;\u0026gt; {{ range (sort (readDir \u0026#34;./static/photos\u0026#34;) \u0026#34;Name\u0026#34; \u0026#34;desc\u0026#34;)}} {{ if ( .Name | findRE \u0026#34;\\\\.(gif|jpg|jpeg|tiff|png|bmp|webp|avif|jxl)\u0026#34;) }} \u0026lt;div class=\u0026#34;gallery-photo\u0026#34;\u0026gt; \u0026lt;img class=\u0026#34;photo-img\u0026#34; loading=\u0026#39;lazy\u0026#39; decoding=\u0026#34;async\u0026#34; src=\u0026#34;/photos/{{ .Name }}\u0026#34; alt=\u0026#34;{{ .Name }}\u0026#34; /\u0026gt; \u0026lt;span class=\u0026#34;photo-title\u0026#34;\u0026gt;{{ .Name | replaceRE \u0026#34;^[0-9 -]+(.*)[.].*\u0026#34; \u0026#34;$1\u0026#34;}}\u0026lt;/span\u0026gt;\u0026lt;span class=\u0026#34;photo-time\u0026#34;\u0026gt;{{ .Name | replaceRE \u0026#34;^([0-9-]+).*[.].*\u0026#34; \u0026#34;$1\u0026#34; }}\u0026lt;/span\u0026gt; \u0026lt;/div\u0026gt; {{ end }} {{ end }} \u0026lt;/div\u0026gt; \u0026lt;style\u0026gt; .gallery-photos{width:100%;} .gallery-photo{width:24.9%;position: relative;visibility: hidden;overflow: hidden;} .gallery-photo.visible{visibility: visible;animation: fadeIn 2s;} .gallery-photo img{ display: block; width:100%; border-radius:20px; padding:4px; animation: fadeIn 1s; cursor: pointer; transition: all .4s ease-in-out; } .gallery-photo span.photo-title,.gallery-photo span.photo-time{ background: rgba(0, 0, 0, 0.3); padding:0px 8px; font-size:0.9rem; color: #fff; display:none; animation: fadeIn 1s; } .gallery-photo span.photo-title{ position:absolute; bottom:4px; left:4px; border-radius:10px; background-color: #a3dfff; color: #000000; font-size:1.2rem } .gallery-photo span.photo-time{position:absolute;top:4px;left:4px;font-size:0.8rem;} .gallery-photo:hover span.photo-title{display:block;} .gallery-photo:hover img{transform: scale(1.1);} .button-group { display: flex; flex-direction: row; gap: 18px; justify-content: center; } .filter-button { padding: 8px 8px; width: auto; background-color: var(--card-background); color: #57bd8f; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s ease; } .filter-button:hover { color: #5e88f7; } .selected-button { background-color: #CCE8CF; color: #000000; /* 选中项的颜色 */ } @media screen and (max-width: 1280px) { .gallery-photo{width:33.3%;} } @media screen and (max-width: 860px) { .gallery-photo{width:49.9%;} } @media (max-width: 683px){ .photo-time{display: none;} } @keyframes fadeIn{ 0% {opacity: 0;} 100% {opacity: 1;} } \u0026lt;/style\u0026gt; \u0026lt;script src=\u0026#34;https://immmmm.com/waterfall.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://immmmm.com/imgStatus.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, () =\u0026gt; { imgStatus.watch(\u0026#39;.photo-img\u0026#39;, function(imgs) { if(imgs.isDone()){ waterfall(\u0026#39;.gallery-photos\u0026#39;); let pagePhoto = document.querySelectorAll(\u0026#39;.gallery-photo\u0026#39;); for(var i=0;i \u0026lt; pagePhoto.length;i++){pagePhoto[i].className += \u0026#34; visible\u0026#34;}; } }); window.addEventListener(\u0026#39;resize\u0026#39;, function () { waterfall(\u0026#39;.gallery-photos\u0026#39;); }); }); \u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://immmmm.com/view-image.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script src=\u0026#34;https://immmmm.com/lately.min.js\u0026#34;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; window.Lately \u0026amp;\u0026amp; Lately.init({ target: \u0026#39;.photo-time\u0026#39;}); window.ViewImage \u0026amp;\u0026amp; ViewImage.init(\u0026#39;.gallery-photo img\u0026#39;) \u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; document.addEventListener(\u0026#39;DOMContentLoaded\u0026#39;, () =\u0026gt; { const filterButtons = document.querySelectorAll(\u0026#39;.filter-button\u0026#39;); const galleryPhotos = document.querySelectorAll(\u0026#39;.gallery-photo\u0026#39;); filterButtons.forEach(button =\u0026gt; { button.addEventListener(\u0026#39;click\u0026#39;, () =\u0026gt; { const category = button.getAttribute(\u0026#39;data-category\u0026#39;); // 隐藏所有照片 galleryPhotos.forEach(photo =\u0026gt; { photo.style.visibility = \u0026#39;hidden\u0026#39;; }); // 显示符合特定词语的照片 galleryPhotos.forEach(photo =\u0026gt; { const imageName = photo.querySelector(\u0026#39;.photo-img\u0026#39;).getAttribute(\u0026#39;alt\u0026#39;); if (imageName.includes(category)) { photo.style.visibility = \u0026#39;visible\u0026#39;; } }); // 移除所有按钮的选中状态 filterButtons.forEach(btn =\u0026gt; { btn.classList.remove(\u0026#39;selected-button\u0026#39;); }); // 将当前点击的按钮标记为选中状态 button.classList.add(\u0026#39;selected-button\u0026#39;); }); }); }); \u0026lt;/script\u0026gt; {{ end }} 这段代码同时添加了分类功能，只需在图片文件名中含有相应关键字即可分类\n添加右下角联系小气泡按钮 效果图为：\n请参考这两篇文章，两位博主写的非常详细，不难配置，在此不在赘述（懒了，hhh）\n私信联系气泡 与山茶花舍 参考文章 Stack主题的自定义 Hugo Stack主题装修笔记 Hugo Stack 主题配置与使用 Hugo Stack主题更新小记 Hugo｜自定义 hugo-theme-Stack 创建单页相册 Hugo 的 LoveIt 主题修改及增强（三） shortcode使用 ","date":"2024-01-18T00:00:00Z","image":"https://www.blain.top/p/renovation/title.jpg","permalink":"https://www.blain.top/p/renovation/","title":"小白hugo博客装修笔记（1）"},{"content":"本文代码已上传github，自取\nhttps://github.com/Bla1n/WBDmonitor 0x00 起因 对于我这样一个假粉，想及时地收到喜欢明星的动态真的是太难了，靠APP的特别关注提醒也基本无济于事，除非我每天都打开微博，B站，抖音。但作为一名“热爱学习”的当代青年，以上这些APP能少看还是少看的好。这就是矛盾所在，也就产生了本文。（本文提供两种监控思路）\n0x01 第一种：微博获取文章id 这里感谢奶权师傅的文章 提供的接口：https://m.weibo.cn/。经测试，现在访问已经不需要登陆，省去模拟登陆步骤。\n来看访问用户主页的请求\n最关键的为图中标红框的xhr\n请求一：https://m.weibo.cn/api/container/getIndex?uid=1927305954\u0026amp;t=0\u0026amp;luicode=10000011\u0026amp;lfid=100103type%3D1%26q%3D%E6%88%90%E6%9E%9C\u0026amp;sudaref=login.sina.com.cn\u0026amp;type=uid\u0026amp;value=1927305954\u0026amp;containerid=1005051927305954 请求二：https://m.weibo.cn/api/container/getIndex?uid=1927305954\u0026amp;t=0\u0026amp;luicode=10000011\u0026amp;lfid=100103type%3D1%26q%3D%E6%88%90%E6%9E%9C\u0026amp;sudaref=login.sina.com.cn\u0026amp;type=uid\u0026amp;value=1927305954\u0026amp;containerid=1076031927305954 经测试，请求一中uid参数为各用户专有且固定不变，containerid参数可不加，返回结果包含的containerid参数提供给请求二，其余参数可舍。\n请求二带上containerid参数即可返回微博内容，微博信息都在mblog数组内\n思路：\n1.先访问请求一获取containerid参数，拼接请求二。\n2访问请求二，匹配响应里所有mblog数组里的id值（每条动态对应一个专有id），并存储到文件中。\n3.定时访问，若发现新id值不在文件里，则视为新微博，推送微信消息。\n封装到类里，代码如下（代码显示太丑了，点击github连接查看）\nhttps://github.com/Bla1n/WBDmonitor/blob/main/monitor/wbmonitor.py 0x02 第二种：B站直接坐享其成 原本打算B站直接延续上文思路，但在分析网页内容的时候我发现了一处有意思的地方\nhttps://space.bilibili.com/3345720/video 如图所示，B站已经统计好当前用户视频数了，那么我只要关注这个数字不就行了吗？\n分析请求发现是下面这条连接返回的视频数目，那么剩下的就很简单了\nhttps://api.bilibili.com/x/space/navnum?mid=3345720\u0026jsonp=jsonp\u0026callback= 思路：\n1.拼接api的url（mid参数为b站用户专有且固定不变）\n2.访问获取视频数目，存储到文件里\n3.定时访问，若视频数发生变化，则视为更新\nhttps://github.com/Bla1n/WBDmonitor/blob/main/monitor/bzmonitor.py 0x03 抖音监控（APP端） 抖音与前两者不同，抖音只有APP端才能访问，这就要配合手机或者模拟器来分析（本文用的模拟器）\n查阅资料得知线索，打开抖音用户界面点击分享，里面的链接分享可供我们使用\nhttps://v.douyin.com/e1o7d17/ 分析数据包找到返回作品数的包\nhttps://www.iesdouyin.com/web/api/v2/user/info/?sec_uid=MS4wLjABAAAAnCz_s5xyosgWTo5lTxKCmoYX1-uiytDsAKBye1LbfDE sec_uid参数为用户专有参数\n剩下思路同上\nhttps://github.com/Bla1n/WBDmonitor/blob/main/monitor/dymonitor.py 0x04 推送程序 各平台监控问题解决了，没有一个好的推送也是不行的。日常用的最多的是微信，并且微信来消息的话，提醒也会很明显。\n这里用到https://sre24.com/\n使用也很简单，微信扫描登陆获取token，根据文档的介绍写一个notify函数就可以用了\n0x05 启动程序 不多赘述，看代码\nhttps://github.com/Bla1n/WBDmonitor/blob/main/start.py 0x06 定时任务 奶权师傅文章里采用心跳包的方式，我这种不愿意挂后台的人就用的定时任务，\n如果服务器搭了宝塔可在后台直接设定，没有的用crontab设效果也是一样的\n0x07 使用效果 代码已上传至github，使用方法详见readme\nhttps://github.com/Bla1n/WBDmonitor 0x08 填坑 1.定时任务请将脚本内文件路径改为绝对路径\n2.推送没采用邮件最主要的原因是，我在Windows上测试没有问题，Linux发不出去（端口开启着没被占用，stmp服务似乎是正常的，未解决）\n3.抖音没有直接添加用户ID的选项，因为没有直接获取用户ID的方法，抓包需自己去抓。然后修改url里的sec_user_id参数也是一样的\n4.如果想要用邮箱功能把start.py里的注释去掉即可，注意一点，授权码不是邮箱密码，自行查找邮箱账户。\n哦对了，python3的email库需手动安装，详见Python3下email 安装报错 No module named \u0026lsquo;cStringIO\u0026rsquo; 5.兴趣是学习的第一推动力\n参考文章：\nPython系列之——利用Python实现微博监控 ","date":"2024-01-15T00:00:00Z","image":"https://www.blain.top/p/wbdmonitor/12.jpeg","permalink":"https://www.blain.top/p/wbdmonitor/","title":"微博、B站、抖音实时关注脚本"},{"content":"本文用于记录将hugo博客部署至github托管过程中遇到的问题及解决办法，希望能帮助和我一样的萌新避坑\n托管过程（github action教程） 创建仓库 首先在github创建两个仓库，一个用于存储博客源文件，文件名随意，这里用blog-file，这个设置为private私密；另一个仓库用github官方托管域名username.github.io来命名，设置为公开，如下图所示：\n本地获取ssh密钥 终端输入命令：\ngit config --global user.email \u0026#34;you@example.com\u0026#34; #you@example.com替换为你的邮箱并回车 git config --global user.name \u0026#34;Your Name\u0026#34; #Your Name替换为你的名字并回车 生成ssh key,在git bash中输入以下命令:\nssh-keygen -t rsa mac生成的密钥将存储在~/.ssh路径下\n打开公钥文件 id_rsa.pub/id_rsa_work.pub， 复制所有内容，在GitHub上打开Setting -\u0026gt; SSH and GPG keys -\u0026gt; add SSH key，将复制的内容粘贴在里边，保存。\n创建github token 在 GitHub 账户下 Setting - Developer setting - Personal access tokens(classic) 下创建一个不过期(no expiration)的 Token，权限需要开启 repo 与 workflow。\n（注意：token只会显示一次，请及时保存）\n私密源仓库设置token 在博客源仓库（blog-file）的 Settings - Secrets - Actions 中添加 PERSONAL_TOKEN 环境变量为刚才的 Token，这样 GitHub Action 就可以获取到 Token 了。\n创建workflows发布文件 在本地博客主目录下创建 .github/workflows目录，然后创建deploy.yml文件。我的 GitHub Action 配置为，自动发布示例配置如下：\nname: deploy on: push: workflow_dispatch: # schedule: # Runs everyday at 8:00 AM # - cron: \u0026#34;0 0 * * *\u0026#34; jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 with: submodules: true fetch-depth: 0 - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#34;latest\u0026#34; extended: true # 这里最好与本机hugo版本一致，例如：hugo-version: \u0026#34;0.121.2\u0026#34; # 有时github部署会自动更新hugo版本导致部署失败 # extended来控制是否为扩展版本 - name: Build Web run: hugo - name: Deploy Web uses: peaceiris/actions-gh-pages@v3 with: personal_token: ${{ secrets.PERSONAL_TOKEN }} external_repository: Bla1n/Bla1n.github.io publish_branch: main publish_dir: ./public commit_message: ${{ github.event.head_commit.message }} external_repository替换为自己的公开博客git\n本地快捷push文件 在本地博客根目录文件夹下新建一个名为deploy.sh的文件用于一键部署博客,在deploy.sh中填入如下内容,其中最后一行代码里的git@github.com:Bla1n/blog-file.git需要更改为你自己仓库的地址：\nhugo #构造你的blog git init #初始化git git add -A git commit -m \u0026#39;deploy\u0026#39; git push -f git@github.com:Bla1n/blog-file.git main #向存储库推送 初次使用 之后再本地调试完博客后，即可在终端运行如下命令则可以一键部署到github\nbash deploy.sh 配置自己的域名 等待Github Action完成后,我们需要开启GitHub page，首先进入公开博客仓库，然后打开设置，在如图示位置进行设置（不会的可以自行搜索）\n生效结果 push仓库会重置域名问题 每次push后会发现公开博客仓库设置的自己的域名会被重置为默认域名\n解决方法：在content目录下创建一个名为CNAME的文件，内容填入自己的域名即可\n本地push失败彻底解决办法 在本地push几次后，突然有一天push不成功了，报错类似如下（忘记截图了）\nssh: connect to host github.com port 22: Connection timed out fatal: Could not read from remote repo 解决办法：在~/.ssh路径下，创建一个名为config的文件，内容如下：\nHost github.com User xxxxqq.com(这里换成自己的邮箱) Hostname ssh.github.com PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa Port 443 这样默认push使用https协议，即可成功。\ndeploy突然失败 平常更新都能deploy成功，但有一次上传文章突然就失败了。起初以为是文章的原因，结果回退commit版本依然是部署失败，报错如下：\nERROR TOCSS: failed to transform \u0026#34;/scss/style.scss\u0026#34; (text/x-scss). Check your Hugo installation; you need the extended version to build SCSS/SASS with transpiler set to \u0026#39;libsass\u0026#39;.: this feature is not available in your current Hugo version, see https://goo.gl/YMrWcn for more information Total in 539 ms Error: error building site: TOCSS: failed to transform \u0026#34;/scss/style.scss\u0026#34; (text/x-scss). Check your Hugo installation; you need the extended version to build SCSS/SASS with transpiler set to \u0026#39;libsass\u0026#39;.: this feature is not available in your current Hugo version, see https://goo.gl/YMrWcn for more information Error: Process completed with exit code 1. 按照报错信息把网上的教程都试了一遍，都不行，然后仔细看了一眼报错，说我没使用扩展版本的hugo，但是我本地是用的扩展版本，于是检查配置文件。发现wordflows的配置文件关于hugo版本是这样写的：\n- name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#34;lastest\u0026#34; 日志上的hugo版本果然不对：\n随即查看hugo action官方使用指南，正确写法应该如下：\n- name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#34;0.121.2\u0026#34; # 这里最好与本机hugo版本一致，例如：hugo-version: \u0026#34;0.121.2\u0026#34; # 有时github部署会自动更新hugo版本导致部署失败 extended: true # extended来控制是否为扩展版本 ","date":"2024-01-14T00:00:00Z","image":"https://www.blain.top/p/hugo-problems/title.png","permalink":"https://www.blain.top/p/hugo-problems/","title":"hugo搭建遇到问题解决方案"},{"content":"23年亦如22年那般，嗖的一下就过去了。没有过得那么的有意义却很让我难以忘怀，可能，能让我刻骨铭心的，只有……吧。希望24年，我能做出改变。\n简述： 上半年：充实、开心、运气好\n下半年：摆烂、内耗、情绪波动\n总：定力不够，动力不足，懒人一个\n流水账： 还记得开年在家里搞装修，很累，但动起来真的会让自己快乐，归根到底是没有时间去给自己胡思乱想了。这里要吐槽一下爸妈， 也不知道是不是在一起待久了，鸡毛蒜皮的小事就爱吵架，虽然能理解，但真的很烦这种情况，每次都会把我的情绪带动的很差。 和许久未见的老姐约饭看电影，老姐还是那个很温柔、真诚的人，真的非常珍惜这段关系。 换了新电脑，实现了大学时用MAC的梦想 时间来到三月份，研究生生活终于要开启了，涉足了从未到过的东北地区。飞机落地后，感谢叔叔和婶婶对我的热情接待，很大程度上减缓了一个人的不安与恐惧。 之后开启研究生生活，和舍友一起办了健身卡，原来，健身这么快乐。 一直到五月底之前，生活都还不错，与其他人的关系没有什么大问题，也进行了长春citywalk。平平淡淡、无忧无虑算是。 五月底开始钻研yanshee机器人，生活一下子充实起来了，期间掺杂着第二次六级考试，约等于裸考。 六月一日，一次无关紧要的会议上，认识了一个人。 六月的生活可谓是相当充实，研三学长学姐的毕业答辩，与可能是这辈子最牛逼的老师握手合影；参加了可能是最后一届运动会，同学们给我的加油呐喊声依然不绝于耳，也认识了俄罗斯友人；参加了这辈子目前为止最重大的一次会议；经过半个月多的准备，机器人省赛如期进行，只可惜，发挥不尽人意，不过还好进了国赛；端午节一天徒步环绕了净月潭一圈，还是蛮有成就感的。 时间来到七月，暑假开始，期间学校里最大的两件事情就是继续准备机器人国赛以及写论文了。然后参加了姑姑家姐姐的婚礼，解锁了伴郎新体验。 八月，奔赴西安，从出发到最后的结束，都是很棒的一次体验，不但拿到了人生中第一个国家一等奖，还和好兄弟一起进行了一场西安citywalk。相当完美、快乐的一个月。 九月份开学，组织迎新活动，带师弟还是蛮有意思的。不久后就参与了祥云杯总决赛，人生中第一次线下CTF，虽然技术远达不到要求，但侥幸获得了二等奖。中旬短暂的回青，参加了舅家表姐的婚礼，这次只有送亲的角色，不过还是非常开心，见到了多年未见的兄弟，一起度过了几天快乐的时光。 时间来到十月份，中秋和国庆又回去看望叔叔婶婶了，他们带我见了好多从未见过的远方表亲，度过了非常快乐的十一假期。之后便开启了小NAO机器人比赛的准备了，不过这次时间太短，没把它放在心上（懒）。在十月最后一天见到了考研男神汤家凤，真的是很激动，有种梦想照进现实的感觉。 十月的记录还没完，在这个落叶纷飞的季节遇见了一个很好的女生。 时间来到十二月，我们或许短暂地在一起过了。原本这里写了许多的不舍，但如今回头发现，感谢遇见，愿我们在没有对方的日子里，过上更好的生活。 flag： 1.努力让身体和心灵有一个在路上\n2.每月至少写一次小结\n3.少做无用社交\n4.每月至少一本书，写读书笔记\n图片印象 ","date":"2024-01-01T00:00:00Z","image":"https://www.blain.top/p/2023summary/title.png","permalink":"https://www.blain.top/p/2023summary/","title":"2023年度总结（删减版）"}]